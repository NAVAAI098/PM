repeat wait() until game.Players.LocalPlayer
_G.GUI = _G.GUI or false
-- if not isfolder("ThunderHub_TheForge") then
--     makefolder("ThunderHub_TheForge")
-- end
-- if not isfile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt") then
--     writefile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt", "")
-- end

-- if isfile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt") and readfile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt") == "Hop" and game.PlaceId == 129009554587176 then
-- if game:GetService("CoreGui").RobloxPromptGui then
--     game:GetService("CoreGui").RobloxPromptGui.promptOverlay.Visible = false
-- end
-- function ClickUI(path)
--     game:GetService("GuiService").SelectedObject = path
--      wait(.1)
--     game:GetService("VirtualInputManager"):SendKeyEvent(true, 13, false, game.Players.LocalPlayer.Character.HumanoidRootPart)
--     wait(.1)
--      game:GetService("VirtualInputManager"):SendKeyEvent(false, 13, false, game.Players.LocalPlayer.Character.HumanoidRootPart)
--      wait(.1)
--     game:GetService("GuiService").SelectedObject = nil
--     wait(.1)
-- end

-- spawn(function()
--     while task.wait(.05) do
--         pcall(function()
--             if _G.STOP == nil then
--                 game:GetService("TeleportService"):Teleport(1)
--             end
--             if _G.STOP == true and game:GetService("CoreGui").RobloxPromptGui.promptOverlay.ErrorPrompt.MessageArea.ErrorFrame.ButtonArea:FindFirstChild("OkButton") then
--                 ClickUI(game:GetService("CoreGui").RobloxPromptGui.promptOverlay.ErrorPrompt.MessageArea.ErrorFrame.ButtonArea.OkButton)
--             end
--         end)
--     end
-- end)    

-- end

repeat wait() until game:IsLoaded() and workspace:GetAttribute("KnitServerReady")



wait()
_G.HorstManager = _G.HorstManager or false
_G.GUIHUD = _G.GUIHUD or true

if not _G.Configs then
    _G.Configs = {
        ["Kaitun"] = {
            ["Arcane Pickaxe"] = true,
            ["Magma Pickaxe"] = true,
            ["Demonic Pickaxe"] = true,
        },
        ["Change_Account_Setting"] = {
            ["Enable"] = false,
            ["Gold"] = nil, -- à¹€à¸‡à¸´à¸™à¸¡à¸²à¸à¸à¸§à¹ˆà¸²à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ

            -- à¹„à¸”à¹‰à¸žà¸´à¸à¹à¸­à¸„à¸­à¸°à¹„à¸£
            ["Pickaxes"] = {
                ["Arcane Pickaxe"] = true,
                ["Magma Pickaxe"] = true,
                ["Demonic Pickaxe"] = false,
            }
        }
    }
end 




--

local PlayerController = require(game:GetService("ReplicatedStorage").Controllers.PlayerController)
local TutorialController = require(game:GetService("ReplicatedStorage").Controllers.TutorialController)
local Knit = require(game:GetService("ReplicatedStorage").Shared.Packages.Knit)
repeat wait() until Knit.GetController and PlayerController.Replica and PlayerController.Replica.Data
local RunService = game:GetService("RunService")
local UIController = Knit.GetController("UIController")
local IndicatorController = Knit.GetController("IndicatorController")
local ForgeController = Knit.GetController("ForgeController")
local Equipments = require(game:GetService("ReplicatedStorage").Shared.Data.Equipments)
local Proximities = require(game:GetService("ReplicatedStorage").Shared.Data.Proximities)
local Ores = require(game:GetService("ReplicatedStorage").Shared.Data.Ore)
local Rocks = require(game:GetService("ReplicatedStorage").Shared.Data.Rock)
local FilterModule = require(game:GetService("ReplicatedStorage").Shared.FilterModule)
local RerollModule = require(game:GetService("ReplicatedStorage").Shared.RerollModule)
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

Player = {
    Inventory_1 = function()
        Stash = {}
        for i,v in pairs(PlayerController.Replica.Data.Inventory) do
            if typeof(v) == "number" then
                Stash[i] = v
            end
        end
        return Stash
    end,
    Pickaxe = Equipments:GetItemData(PlayerController.Replica.Data.Equipped.Pickaxe and PlayerController.Replica.Data.Equipped.Pickaxe.Name or nil),
    Position = {
        ForgeWeapon = Vector3.new(-193, 29, 166),
        Sell = workspace.Proximity:WaitForChild("Marbles"):WaitForChild("HumanoidRootPart").Position,
        BronzePickaxe = Vector3.new(-78, 29, 85)    
    }
}


if game.PlaceId == 76558904092080 then
    Player.World = "World1"    
else
    Player.World = "World2"
end 



setmetatable(Player, {
    __index = function(t, key)
        return PlayerController.Replica.Data[key]
    end,
})

function formatNumber(amount)
	local formatted = tostring(math.ceil(amount))

	while true do
	
		formatted, k = string.gsub(formatted, "^(-?%d+)(%d%d%d)", '%1,%2')

		if (k == 0) then
			break
		end
	end

	return formatted
end

if _G.HorstManager then
    repeat task.wait() until game:IsLoaded()

    task.spawn(function()
        getgenv().HorstConfig = {
            ["EnableLog"] = true,
            ["Whitescreen"] = false,
            ["EnableAddFriends"] = false,
            ["LockFps"] = {
                ["EnableLockFps"] = false,
                ["LockFpsAmount"] = 30 
            }
        }
        
        loadstring(game:HttpGet("https://raw.githubusercontent.com/HorstSpaceX/last_update/main/on_loaded.lua"))()
    end)

    spawn(function()
        while wait(15) do
            pcall(function()

                Pickaxes = {}
                for i,v in pairs(PlayerController.Replica.Data.Inventory.Equipments) do
                    if v.Name and v.Name:find("Pickaxe") then
                        table.insert(Pickaxes , v.Name)
                    end
                end
                
                Logs = {
                    "â›ï¸Pickaxes : Arcane Pickaxe " .. (table.find(Pickaxes, "Arcane Pickaxe") and "âœ…" or "âŒ") .. "     Magma Pickaxe " .. (table.find(Pickaxes, "Magma Pickaxe") and "âœ…" or "âŒ") .. " Demonic Pickaxe " .. (table.find(Pickaxes, "Demonic Pickaxe") and "âœ…" or "âŒ") .. "",
                    "ðŸRace : "..tostring(PlayerController.Replica.Data.Race),
                    "ðŸ†™Level : "..tostring(PlayerController.Replica.Data.Level),
                    "ðŸ’²"..formatNumber(PlayerController.Replica.Data.Gold)
                }

                
                --
                _G.Horst_SetDescription(table.concat(Logs , "  ") .. " Status : " .. (success or "âŒ"))

               if _G.Configs["Change_Account_Setting"] then

                    -- PlayerController.Replica.Data.Gold
                    if  
                            _G.Configs["Change_Account_Setting"]["Enable"]
                            and (not _G.Configs["Change_Account_Setting"]["Gold"]
                                or PlayerController.Replica.Data.Gold >= _G.Configs["Change_Account_Setting"]["Gold"])
                            and (not _G.Configs["Change_Account_Setting"]["Pickaxes"]["Arcane Pickaxe"]
                                or table.find(Pickaxes, "Arcane Pickaxe"))
                            and (not _G.Configs["Change_Account_Setting"]["Pickaxes"]["Magma Pickaxe"]
                                or table.find(Pickaxes, "Magma Pickaxe"))
                            and (not _G.Configs["Change_Account_Setting"]["Pickaxes"]["Demonic Pickaxe"]
                                or table.find(Pickaxes, "Demonic Pickaxe"))
                            
                        then
                        success = "Done âœ…"
                        print("done")
                         local ok, err = _G.Horst_AccountChangeDone()
                        if ok then
                            print("Account change done sent successfully!")
                        else
                            print("Failed to send DONE:", err)
                        end
                        return
                    end
                end


                

            end)
        end     
    end)
end

function Player:GetGold()
    local goldTextObj = game:GetService("Players").LocalPlayer
        .PlayerGui.Main.Screen.Hud.Gold

    if not goldTextObj or not goldTextObj.Text then
        return 0
    end

    -- à¸•à¸±à¸§à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸”à¸´à¸š à¹€à¸Šà¹ˆà¸™ "$185,031.28"
    local raw = goldTextObj.Text

    -- à¸¥à¸š $ , à¹à¸¥à¸° , à¸­à¸­à¸
    raw = raw:gsub("%$", ""):gsub(",", "")

    -- à¹à¸›à¸¥à¸‡à¹€à¸›à¹‡à¸™à¸•à¸±à¸§à¹€à¸¥à¸‚
    local gold = tonumber(raw)

    return gold or 0
end

function Player:MineRock(name)
    Rock = self:GetNearestRock(name)

    Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

    if Move then
        local args = {
            "Pickaxe"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
    end	
end

function Player:GetMinePower()
    return Equipments:GetItemData(PlayerController.Replica.Data.Equipped.Pickaxe and PlayerController.Replica.Data.Equipped.Pickaxe.Name or nil)
end

function Player:GetOre(Ore)
    for i,v in pairs(Ores) do
        if v.Name == Ore then
            return v
        end
    end
    return nil
end

function Player:GetForgeItems()
    local FillForge = {}
    local TotalItems = 0
    for itemName, amount in pairs(Player.Inventory_1()) do
        if TotalItems >= 3 then
            break
        end

        while amount > 0 and TotalItems < 3 do
            if not FillForge[itemName] then
                FillForge[itemName] = 0
            end

            FillForge[itemName] = FillForge[itemName] + 1
            amount = amount - 1
            TotalItems = TotalItems + 1
        end
    end

    return FillForge , TotalItems
end

function Player:GetStashInventoryCount()
    Count = 0
    for i,v in pairs(self.Inventory_1()) do
        Count = Count + v
    end
    return Count
end

function Player:GetNearestMonster(Target)
    local targetList = {}
    local checkAll = false

    if type(Target) == "table" then
        for _, name in pairs(Target) do
            table.insert(targetList, string.lower(name))
        end
    elseif type(Target) == "string" then
        if string.lower(Target) == "all" then
            checkAll = true
        else
            table.insert(targetList, string.lower(Target))
        end
    end

    local nearestPebble = nil
    local minDistance = math.huge
    local character = game.Players.LocalPlayer.Character
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return nil, math.huge end

    for _, obj in pairs(workspace.Living:GetChildren()) do
        local rawName = string.gsub(obj.Name, "%d", "")
        local lowerName = string.lower(rawName)
        if obj:GetAttribute("IsNpc") 
           and obj:FindFirstChild("Humanoid") and obj.Humanoid.Health > 0 
           and obj.PrimaryPart 
           and (checkAll or table.find(targetList, lowerName)) then
            
            local distance = (obj.PrimaryPart.Position - rootPart.Position).Magnitude
            
            if distance < minDistance then
                minDistance = distance
                nearestPebble = obj
            end
        end
    end
    
    return nearestPebble, minDistance
end


function Player:CheckPickaxeInInventory(Check)
    for i, v in pairs(PlayerController.Replica.Data.Inventory.Equipments) do
        if v.Name and v.Name:find(Check) then
            return true
        end
    end
    return false
end

function Player:CheckIsOreInRock(Rock , TargetOre)
    for i,v in pairs(Rock:GetChildren()) do
        if v.Name == "Ore" then

            print(v:GetAttribute("Ore"))
            if v:GetAttribute("Ore") == TargetOre then
                return true
            end
        end
    end
    return false
end

function Player:GetNearestRock_Vol(RockName , TargetOre)
    TargetOre=TargetOre or "Magmaite"
    RockName = RockName or nil
    if typeof(RockName) == "table" then
        RockName = RockName
    else
        RockName = {RockName}
    end
    --
    if not RockName then
        local MyPower = Player:GetMinePower() and Player:GetMinePower()["Mine Power"] or 0
        local EligibleRocks = {} 
        for i, v in pairs(Rocks) do
            if v.RequiredDamage and v.RequiredDamage <= MyPower then
                table.insert(EligibleRocks, {
                    Name = tostring(i), 
                    Damage = v.RequiredDamage
                })
            end
        end
        table.sort(EligibleRocks, function(a, b)
            return a.Damage > b.Damage
        end)

        local BestRock = nil

        if #EligibleRocks >= 2 then
            BestRock = EligibleRocks[2].Name 
        elseif #EligibleRocks == 1 then
            BestRock = EligibleRocks[1].Name
        end

        RockName = {BestRock}
    end

    local nearestPebble = nil
    local minDistance = math.huge
    local donthop = nil
    for _, obj in pairs(workspace.Rocks:GetDescendants()) do
        -- check ore here
        if table.find(RockName , obj.Name) and obj:GetAttribute("Health") > 0 and (not obj:GetAttribute("LastHitPlayer") or (obj:GetAttribute("LastHitPlayer") and obj:GetAttribute("LastHitPlayer") == game.Players.LocalPlayer.Name)) then
            if obj:FindFirstChild("Ore")  then
                donthop = true
                 if self:CheckIsOreInRock(obj , TargetOre) then
                             local distance = (obj.WorldPivot.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
            
                            if distance < minDistance then
                                minDistance = distance
                                nearestPebble = obj
                            end
                        
                    
                end
            elseif not obj:FindFirstChild("Ore") then
                local distance = (obj.WorldPivot.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
                
                if distance < minDistance then
                    minDistance = distance
                    nearestPebble = obj
                end
            end
        end
    end
    
    return nearestPebble, minDistance , donthop
end
function Player:GetNearestRock(RockName)
    RockName = RockName or nil
    if typeof(RockName) == "table" then
        RockName = RockName
    else
        RockName = {RockName}
    end
    --
    if not RockName then
        local MyPower = Player:GetMinePower() and Player:GetMinePower()["Mine Power"] or 0
        local EligibleRocks = {} 
        for i, v in pairs(Rocks) do
            if v.RequiredDamage and v.RequiredDamage <= MyPower then
                table.insert(EligibleRocks, {
                    Name = tostring(i), 
                    Damage = v.RequiredDamage
                })
            end
        end
        table.sort(EligibleRocks, function(a, b)
            return a.Damage > b.Damage
        end)

        local BestRock = nil

        if #EligibleRocks >= 2 then
            BestRock = EligibleRocks[2].Name 
        elseif #EligibleRocks == 1 then
            BestRock = EligibleRocks[1].Name
        end

        RockName = {BestRock}
    end

    local nearestPebble = nil
    local minDistance = math.huge
    
    for _, obj in pairs(workspace.Rocks:GetDescendants()) do
        if table.find(RockName , obj.Name) and obj:GetAttribute("Health") > 0 and (not obj:GetAttribute("LastHitPlayer") or (obj:GetAttribute("LastHitPlayer") and obj:GetAttribute("LastHitPlayer") == game.Players.LocalPlayer.Name)) then
            local distance = (obj.WorldPivot.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
            
            if distance < minDistance then
                minDistance = distance
                nearestPebble = obj
            end
        end
    end
    
    return nearestPebble, minDistance
end
function Player:ForgeWeaponMoney(ForgePrompt , AmountForge)
    AmountForge = AmountForge or 3
    a,b,c = self:GetForgeItemsMax()
    if c < AmountForge and not self.ForgingWeaponMoney and not PlayerController.Replica.Data.PreviousForge then
        return
    end

    wait(.3)

    if ForgeController.Sequence == "Showcase" then
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    elseif ForgeController.Sequence == "OreSelect" then
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    end

    if ForgeController.ForgeActive == false and not PlayerController.Replica.Data.PreviousForge then

        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        wait(1.5)
        if not PlayerController.Replica.Data.PreviousForge then
            self.ForgingWeaponMoney = false
            if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                    fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
                end
                
                return
            end

        
        if PlayerController.Replica.Data.PreviousForge then return end
        self.ForgingWeaponMoney = true
        
        local args = {
            "Melt",
            {
                    FastForge = false,
                    ItemType = "Weapon",
                    Ores = self:GetForgeItemsMax()
                }
            }
            c = game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            return
        end
    elseif PlayerController.Replica.Data.PreviousForge then
        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        
        self.ForgingWeaponMoney = false
        if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            return
        end

        
        if PlayerController.Replica.Data.PreviousForge then
        if PlayerController.Replica.Data.PreviousForge.Sequence == "Melt" then

        local args = {"Pour" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
        
        elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Pour" then
            

                task.spawn(function()
                    for i = 1,5 do
                local args = {"Hammer" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end
                end)
        elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Hammer" then

                if workspace.Debris:FindFirstChild("Mold") then
                    fireclickdetector(workspace.Debris.Mold.ClickDetector)
                end
                if ForgeController.Sequence == "Water" then
                    --
                    ForgeController:ChangeSequence("Hammer")
                    --
                end
                task.spawn(function()
                ForgeController:ChangeSequence("Water", {
                    ["ClientTime"] = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime - 4
                })
                end)
            end
            task.wait()
        elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Water" then
                    
                task.spawn(function()
                    local args = {
                    "Showcase",
                    {}
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                end)
                wait(4)
        end
        
    end    
end	
function Player:ForgeArmorMoney(ForgePrompt , AmountForge)
    AmountForge = AmountForge or 3
    a,b,c = self:GetForgeItemsMax()
    if c < AmountForge and not self.ForgingArmorMoney and not PlayerController.Replica.Data.PreviousForge then
        return 
    end

    wait(.3)

    if ForgeController.Sequence == "Showcase" then
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    elseif ForgeController.Sequence == "OreSelect" then
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    end

    if ForgeController.ForgeActive == false and not PlayerController.Replica.Data.PreviousForge then

        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        wait(1.5)
        if not PlayerController.Replica.Data.PreviousForge then
            self.ForgingArmorMoney = false
            if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                    fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
                end
                
                return
            end

        
        if PlayerController.Replica.Data.PreviousForge then return end
        self.ForgingArmorMoney = true
        
        local args = {
            "Melt",
            {
                    FastForge = false,
                    ItemType = "Armor",
                    Ores = self:GetForgeItemsMax()
                }
            }
            c = game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            return
        end
    elseif PlayerController.Replica.Data.PreviousForge then
        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        
        self.ForgingArmorMoney = false
        if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            return
        end

        
        if PlayerController.Replica.Data.PreviousForge then
        if PlayerController.Replica.Data.PreviousForge.Sequence == "Melt" then

        local args = {"Pour" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
        
        elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Pour" then
            

                task.spawn(function()
                    for i = 1,5 do
                local args = {"Hammer" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end
                end)
        elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Hammer" then

                if workspace.Debris:FindFirstChild("Mold") then
                    fireclickdetector(workspace.Debris.Mold.ClickDetector)
                end
                if ForgeController.Sequence == "Water" then
                    --
                    ForgeController:ChangeSequence("Hammer")
                    --
                end
                task.spawn(function()
                ForgeController:ChangeSequence("Water", {
                    ["ClientTime"] = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime - 4
                })
                end)
            end
            task.wait()
        elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Water" then
                    
                task.spawn(function()
                    local args = {
                    "Showcase",
                    {}
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                end)
                wait(4)
        end
        
    end    
end	
function Player:ForgeWeapon(ForgePrompt, AmountForge)
    print("------------------------------------------------")
    print("[Debug] Player:ForgeWeapon - Start")
    
    AmountForge = AmountForge or 3
    local a, b = self:GetForgeItems() -- à¸„à¸§à¸£à¹ƒà¸Šà¹‰ local à¹€à¸žà¸·à¹ˆà¸­ performance
    print("[Debug] Ores Found:", b, "| Amount Required:", AmountForge)
    
    -- à¹€à¸Šà¹‡à¸„à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¹à¸£à¸: à¸žà¸­à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ / à¸à¸³à¸¥à¸±à¸‡à¸•à¸µà¸­à¸¢à¸¹à¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
    if b < AmountForge and not self.ForgingWeapon and not PlayerController.Replica.Data.PreviousForge then
        warn("[Debug] Cancelled: Not enough ores or conditions not met.")
        return 
    end
    
    task.wait(0.3) -- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ wait à¹€à¸›à¹‡à¸™ task.wait à¹€à¸žà¸·à¹ˆà¸­à¸„à¸§à¸²à¸¡à¹€à¸ªà¸–à¸µà¸¢à¸£

    print("[Debug] Current Sequence (Controller):", ForgeController.Sequence)

    -- à¸›à¸´à¸”à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡ UI à¸—à¸µà¹ˆà¸„à¹‰à¸²à¸‡à¸­à¸¢à¸¹à¹ˆ
    if ForgeController.Sequence == "Showcase" then
        print("[Debug] Closing Showcase UI")
        for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    elseif ForgeController.Sequence == "OreSelect" then
        print("[Debug] Closing OreSelect UI")
        for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    end

    -- CASE 1: à¹€à¸£à¸´à¹ˆà¸¡à¸•à¸µà¹ƒà¸«à¸¡à¹ˆ (New Forge)
    if ForgeController.ForgeActive == false and not PlayerController.Replica.Data.PreviousForge then
        print("[Debug] Case 1: Starting New Forge")
        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            print("[Debug] Forge UI Closed -> Firing ProximityPrompt")
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        
        task.wait(1.5)
        
        if not PlayerController.Replica.Data.PreviousForge then
            self.ForgingWeapon = false
            print("[Debug] Double Check: ForgeActive:", ForgeController.ForgeActive, "| UI Enabled:", game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled)
            
            if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                    fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
                end
            end

            -- à¸•à¸£à¸‡à¸™à¸µà¹‰ Logic à¸”à¸¹à¹à¸›à¸¥à¸à¹† à¹€à¸žà¸£à¸²à¸°à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ if not PreviousForge à¹à¸¥à¹‰à¸§à¸¡à¸²à¹€à¸Šà¹‡à¸„ if PreviousForge à¸­à¸µà¸à¸—à¸µ
            if PlayerController.Replica.Data.PreviousForge then 
                warn("[Debug] Unexpected: PreviousForge data appeared.")
                return 
            end
            
            self.ForgingWeapon = true
            print("[Debug] Invoking Server: Melt (New Weapon)")
            
            local args = {
                "Melt",
                {
                    FastForge = false,
                    ItemType = "Weapon",
                    Ores = self:GetForgeItems()
                }
            }
            -- à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰ local c à¹à¸—à¸™ global c
            local c = game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            print("[Debug] Server Invoked (Melt). Result:", c)
            return
        end
        
    -- CASE 2: à¸•à¸µà¸•à¹ˆà¸­à¸ˆà¸²à¸à¸‚à¸­à¸‡à¹€à¸”à¸´à¸¡ (Resume Previous Forge)
    elseif PlayerController.Replica.Data.PreviousForge then
        print("[Debug] Case 2: Resuming Previous Forge")
        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        
        self.ForgingWeapon = false
        if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            warn("[Debug] Forge not active or UI closed during resume. Returning.")
            return
        end

        if PlayerController.Replica.Data.PreviousForge then
            local currentSeq = PlayerController.Replica.Data.PreviousForge.Sequence
            print("[Debug] Resuming Step:", currentSeq)

            if currentSeq == "Melt" then
                print("[Debug] Action: Melt -> Pour")
                local args = {"Pour" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            
            elseif currentSeq == "Pour" then
                print("[Debug] Action: Pour -> Hammer (Spawning task)")
                task.spawn(function()
                    for i = 1, 5 do
                        print("[Debug] Hammer Hit:", i)
                        local args = {"Hammer" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end
                end)
            
            elseif currentSeq == "Hammer" then
                print("[Debug] Action: Hammer -> Water")
                if workspace.Debris:FindFirstChild("Mold") then
                    print("[Debug] Firing Mold ClickDetector")
                    fireclickdetector(workspace.Debris.Mold.ClickDetector)
                end
                
                if ForgeController.Sequence == "Water" then
                    print("[Debug] Force changing local sequence to Hammer to reset")
                    ForgeController:ChangeSequence("Hammer")
                end
                
                task.spawn(function()
                    print("[Debug] Changing Sequence to Water")
                    ForgeController:ChangeSequence("Water", {
                        ["ClientTime"] = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime - 4
                    })
                end)
                
            elseif currentSeq == "Water" then
                print("[Debug] Action: Water -> Showcase")
                task.spawn(function()
                    local args = {
                        "Showcase",
                        {}
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                end)
                task.wait(4)
            end
        end
    end 
    print("[Debug] Player:ForgeWeapon - End")
end
function Player:ForgeWeaponCustom(item , AmountForge)
    if (self.Inventory[item] and self.Inventory[item] >= AmountForge) or self.PreviousForge then
        if ForgeController.Sequence == "Showcase" then
                for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
                    v.Function()
                end
            elseif ForgeController.Sequence == "OreSelect" then
                for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
                    v.Function()
            end
        end

        if ForgeController.ForgeActive == false and not PlayerController.Replica.Data.PreviousForge then
            print("Forge Ready")
            if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                
                fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
            end
            wait(1.5)
            if not PlayerController.Replica.Data.PreviousForge then
                self.ForgingWeapon = false
                print("Prompt")
                if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                    if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                        fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
                    end
                    
                end

            
            if PlayerController.Replica.Data.PreviousForge then return end
            self.ForgingWeapon = true
            
            local args = {
                "Melt",
                {
                        FastForge = false,
                        ItemType = "Weapon",
                        Ores = {[item] = AmountForge}
                    }
                }
                c = game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                return
            end
        elseif PlayerController.Replica.Data.PreviousForge then
            
            if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
            end
            
            self.ForgingWeapon = false
            if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                return
            end

            
            if PlayerController.Replica.Data.PreviousForge then
            if PlayerController.Replica.Data.PreviousForge.Sequence == "Melt" then

            local args = {"Pour" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            
            elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Pour" then
                

                    task.spawn(function()
                    for i = 1,5 do
                    local args = {"Hammer" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end
                    end)
            elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Hammer" then

                    if workspace.Debris:FindFirstChild("Mold") then
                        fireclickdetector(workspace.Debris.Mold.ClickDetector)
                    end
                    if ForgeController.Sequence == "Water" then
                        --
                        ForgeController:ChangeSequence("Hammer")
                        --
                    end
                    task.spawn(function()
                    ForgeController:ChangeSequence("Water", {
                        ["ClientTime"] = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime - 4
                    })
                    end)
                end
                task.wait()
            elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Water" then
                        
                    task.spawn(function()
                        local args = {
                        "Showcase",
                        {}
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end)
                    wait(4)
            end
            
        end    
    end
end	
function Player:ForgeArmorCustom(item , AmountForge)
    if (self.Inventory[item] and self.Inventory[item] >= AmountForge) or self.PreviousForge then
        if ForgeController.Sequence == "Showcase" then
                for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
                    v.Function()
                end
            elseif ForgeController.Sequence == "OreSelect" then
                for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
                    v.Function()
            end
        end

        if ForgeController.ForgeActive == false and not PlayerController.Replica.Data.PreviousForge then
            
            if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                
                fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
            end
            wait(1.5)
            if not PlayerController.Replica.Data.PreviousForge then
                self.ForgingWeapon = false
                if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                    if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                        fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
                    end
                    
                    return
                end

            
            if PlayerController.Replica.Data.PreviousForge then return end
            self.ForgingWeapon = true
            
            local args = {
                "Melt",
                {
                        FastForge = false,
                        ItemType = "Armor",
                        Ores = {[item] = AmountForge}
                    }
                }
                c = game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                return
            end
        elseif PlayerController.Replica.Data.PreviousForge then
            
            if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
            end
            
            self.ForgingWeapon = false
            if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                return
            end

            
            if PlayerController.Replica.Data.PreviousForge then
            if PlayerController.Replica.Data.PreviousForge.Sequence == "Melt" then

            local args = {"Pour" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            
            elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Pour" then
                

                    task.spawn(function()
                    for i = 1,5 do
                    local args = {"Hammer" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end
                    end)
            elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Hammer" then

                    if workspace.Debris:FindFirstChild("Mold") then
                        fireclickdetector(workspace.Debris.Mold.ClickDetector)
                    end
                    if ForgeController.Sequence == "Water" then
                        --
                        ForgeController:ChangeSequence("Hammer")
                        --
                    end
                    task.spawn(function()
                    ForgeController:ChangeSequence("Water", {
                        ["ClientTime"] = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime - 4
                    })
                    end)
                end
                task.wait()
            elseif PlayerController.Replica.Data.PreviousForge.Sequence == "Water" then
                        
                    task.spawn(function()
                        local args = {
                        "Showcase",
                        {}
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                    end)
                    wait(4)
            end
            
        end    
    end
end	
function Player:ForgeArmor(ForgePrompt, AmountForge)
    local function debugPrint(...)
         print(...)
    end
    local function debugWarn(...)
        warn(...)
    end

    debugPrint("------------------------------------------------")
    debugPrint("[Debug] Player:ForgeArmor - Start")

    AmountForge = AmountForge or 3
    local a, b = self:GetForgeItems() -- Added 'local' for better performance
    debugPrint("[Debug] Items Found:", b, "| Amount Required:", AmountForge)

    if b < AmountForge and not self.ForgingArmor and not self.PreviousForge then
        debugWarn("[Debug] Cancelled: Not enough items or invalid state.")
        return 
    end

    task.wait(0.2) -- Use task.wait
    
    debugPrint("[Debug] Current Controller Sequence:", ForgeController.Sequence)

    -- Handle UI Closures
    if ForgeController.Sequence == "Showcase" then
        debugPrint("[Debug] Action: Closing Showcase UI")
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    elseif ForgeController.Sequence == "OreSelect" then
        debugPrint("[Debug] Action: Closing OreSelect UI")
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
    end

    -- CASE 1: Start New Forge
    if ForgeController.ForgeActive == false and not PlayerController.Replica.Data.PreviousForge then
        debugPrint("[Debug] Case 1: Starting New Armor Forge")

        self.ForgingArmor = false
        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            debugPrint("[Debug] UI Closed -> Firing ProximityPrompt")
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        
        task.wait(1)

        -- Double check state after wait
        if not PlayerController.Replica.Data.PreviousForge then
            
            -- Ensure UI is open
            if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
                    fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
                end
                debugWarn("[Debug] Forge UI failed to open. Returning.")
                return
            end

            task.wait(1)
            
            -- Final check before Melt
            if PlayerController.Replica.Data.PreviousForge then 
                debugWarn("[Debug] PreviousForge appeared unexpectedly. Aborting new forge.")
                return 
            end
            
            self.ForgingArmor = true
            debugPrint("[Debug] Invoking Server: Melt (Armor)")

            local args = {
                "Melt",
                {
                    FastForge = false,
                    ItemType = "Armor",
                    Ores = self:GetForgeItems()
                }
            }
            local c = game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            debugPrint("[Debug] Server Invoked (Melt). Result:", c)
            return
        end

    -- CASE 2: Resume Existing Forge
    elseif PlayerController.Replica.Data.PreviousForge then
        debugPrint("[Debug] Case 2: Resuming Previous Armor Forge")
        
        if game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            fireproximityprompt(workspace.Proximity.Forge.ProximityPrompt)
        end
        
        self.ForgingArmor = false
        
        if ForgeController.ForgeActive == false or game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == false then
            debugWarn("[Debug] Resume Cancelled: ForgeActive false or UI closed.")
            return
        end

        if PlayerController.Replica.Data.PreviousForge then
            local currentSeq = PlayerController.Replica.Data.PreviousForge.Sequence
            debugPrint("[Debug] Resuming at Step:", currentSeq)

            if currentSeq == "Melt" then
                debugPrint("[Debug] Action: Melt -> Pour")
                local args = {"Pour" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
            
            elseif currentSeq == "Pour" then
                debugPrint("[Debug] Action: Pour -> Hammer (Spawning task)")
                task.spawn(function()
                    -- NOTE: In your Weapon code, this looped 5 times. Here it only runs once. Check if this is intended for Armor.
                    debugPrint("[Debug] Sending Hammer Signal") 
                    local args = {"Hammer" , {ClientTime = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime + PlayerController.Replica.Data.PreviousForge.MinigameData.RequiredTime}}
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                end)

            elseif currentSeq == "Hammer" then
                debugPrint("[Debug] Action: Hammer -> Water")
                
                if workspace.Debris:FindFirstChild("Mold") then
                    debugPrint("[Debug] Clicking Mold")
                    fireclickdetector(workspace.Debris.Mold.ClickDetector)
                end
                
                if ForgeController.Sequence == "Water" then
                    debugPrint("[Debug] Resetting Sequence to Hammer for sync")
                    ForgeController:ChangeSequence("Hammer")
                end
                
                task.spawn(function()
                    debugPrint("[Debug] Changing Sequence to Water")
                    ForgeController:ChangeSequence("Water", {
                        ["ClientTime"] = PlayerController.Replica.Data.PreviousForge.MinigameData.StartTime - 4
                    })
                end)

            elseif currentSeq == "Water" then
                debugPrint("[Debug] Action: Water -> Showcase")
                task.spawn(function()
                    local args = {
                        "Showcase",
                        {}
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ForgeService"):WaitForChild("RF"):WaitForChild("ChangeSequence"):InvokeServer(unpack(args))
                end)
                wait(4)
            end
        end
    end 
    debugPrint("[Debug] Player:ForgeArmor - End")
end
function Player:AttachRune(Item , Rune)
    local args = {
        Item,
        Rune
    }
    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("RuneService"):WaitForChild("RF"):WaitForChild("PurchaseAttach"):InvokeServer(unpack(args))
end
function Player:GetForgeItemsMax()
    local InventoryList = {}

    for itemName, amount in pairs(Player.Inventory_1()) do
        table.insert(InventoryList, {
            Name = itemName,
            Amount = amount
        })
    end

    table.sort(InventoryList, function(a, b)
        return a.Amount > b.Amount 
    end)

    local FillForge = {}
    local SlotCount = 0
    local ItemCount = 0

    for _, itemData in ipairs(InventoryList) do
        if SlotCount < 4 then
            FillForge[itemData.Name] = itemData.Amount
            
            SlotCount = SlotCount + 1
            ItemCount = ItemCount + itemData.Amount
        else
            break
        end
    end

    return FillForge, SlotCount, ItemCount
end
function Player:WalkTo2(target , pos)
    pos = pos or 0
    local character = game.Players.LocalPlayer.Character
    if not character then return false end
    local humanoid = character:FindFirstChild("Humanoid")
    local rootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoid or not rootPart then return false end

    local speed = 50

    local targetPos
    if typeof(target) == "Instance" then
        targetPos = target.Position
    elseif typeof(target) == "Vector3" then
        targetPos = target
    else
        warn("Player:WalkTo: Invalid target type")
        return false
    end

    local currentPos = rootPart.Position
    local distance = (targetPos - currentPos).Magnitude
    if distance < 5 then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPos) * CFrame.new(0,-2.5,pos)
        return true
    end



    local platform = Instance.new("Part")
    platform.Size = Vector3.new(5, 1, 5)
    platform.Anchored = true
    platform.CanCollide = true
    platform.Transparency = 1
    platform.Material = Enum.Material.Glass
    platform.Color = Color3.fromRGB(173, 216, 230) -- Light blue glass
    platform.Name = "WalkToPlatform"
    platform.Parent = workspace

    local RunService = game:GetService("RunService")
    local noclipConnection
    noclipConnection = RunService.Stepped:Connect(function()
        if character then
            for _, part in pairs(character:GetDescendants()) do
                if part:IsA("BasePart") and part.CanCollide then
                    part.CanCollide = false
                end
            end
        end
    end)

    local success = false
    while character and character.Parent do
        if typeof(target) == "Instance" then
            targetPos = target.Position
        end

        local currentPos = rootPart.Position
        local distance = (targetPos - currentPos).Magnitude

        if distance < 5 then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(targetPos) * CFrame.new(0,-2.5,pos)
            success = true
            break
        end

        local direction = (targetPos - currentPos).Unit
        local deltaTime = RunService.Heartbeat:Wait()
        local moveStep = direction * speed * deltaTime
        
        if moveStep.Magnitude > distance then
            rootPart.CFrame = CFrame.new(targetPos) * CFrame.new(0,-5,0)
        else
            rootPart.CFrame = CFrame.new(currentPos + moveStep, targetPos)
        end
        
        platform.CFrame = rootPart.CFrame * CFrame.new(0, -3.5, 0)
        
        humanoid:ChangeState(Enum.HumanoidStateType.Physics)
    end

    if noclipConnection then noclipConnection:Disconnect() end
    if platform then platform:Destroy() end
    
    if humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
    end
    
    return success
end
function Player:WalkTo(target, height)
    height = height or -3.5

    -- à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¸‹à¹‰à¸³ (à¸à¸±à¸™à¹€à¸”à¹‰à¸‡)
    if self._isWalking then 
        return false 
    end
    self._isWalking = true

    local player = game.Players.LocalPlayer
    local char = player.Character
    if not char then 
        self._isWalking = false
        return false 
    end

    local humanoid = char:FindFirstChild("Humanoid")
    local root = char:FindFirstChild("HumanoidRootPart")
    if not humanoid or not root then
        self._isWalking = false
        return false
    end

    ----------------------------------------
    -- ðŸ”¥ à¸ˆà¸¸à¸”à¸ªà¸³à¸„à¸±à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”: à¸›à¸´à¸”à¸à¸²à¸£à¹€à¸”à¸´à¸™à¸‚à¸­à¸‡à¹€à¸à¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
    ----------------------------------------

    -- à¸à¸±à¸™à¹€à¸à¸¡à¸ªà¸±à¹ˆà¸‡à¹€à¸”à¸´à¸™ (MoveTo) à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹à¸—à¸£à¸
    humanoid:Move(Vector3.zero)

    -- à¸à¸±à¸™ PathfindingService à¸£à¸µà¹€à¸‹à¹‡à¸•à¸à¸²à¸£à¹€à¸”à¸´à¸™
    humanoid:ChangeState(Enum.HumanoidStateType.Physics)
    humanoid.AutoRotate = false

    -- Kill pathfinding à¸‚à¸­à¸‡à¹€à¸à¸¡à¸—à¸µà¹ˆà¹à¸—à¸£à¸à¹€à¸‚à¹‰à¸²à¸¡à¸²
    pcall(function()
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Running, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
    end)

    local targetCF

    if typeof(target) == "Instance" then
        targetCF = target:IsA("Model") and target:GetPivot() or target.CFrame
    elseif typeof(target) == "Vector3" then
        targetCF = CFrame.new(target)
    elseif typeof(target) == "CFrame" then
        targetCF = target
    else
        self._isWalking = false
        return false
    end

    local lockedTarget = targetCF.Position
    local elevatedY = 5
    local speed = 50
    if (root.Position - lockedTarget).Magnitude < 15 then
        root.CFrame = CFrame.new(
            lockedTarget.X, 
            lockedTarget.Y + height, 
            lockedTarget.Z
        ) * CFrame.Angles(math.rad(90), 0, 0)

        self._isWalking = false
        return true
    end

    ----------------------------------------
    -- Kill WalkConnection à¹€à¸”à¸´à¸¡à¸à¹ˆà¸­à¸™à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸«à¸¡à¹ˆ
    ----------------------------------------
    if self.WalkConnection then
        self.WalkConnection:Disconnect()
    end

    ----------------------------------------
    -- ðŸŒŸ Heartbeat Movement (à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¸à¸§à¹ˆà¸² Tween)
    ----------------------------------------
    self.WalkConnection = game:GetService("RunService").Heartbeat:Connect(function(dt)
        if not root or not root.Parent then
            if self.WalkConnection then self.WalkConnection:Disconnect() end
            self._isWalking = false
            return
        end

        -- à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¹€à¸à¸¡à¸ªà¸±à¹ˆà¸‡à¹€à¸”à¸´à¸™à¹à¸—à¸£à¸à¸—à¸¸à¸à¹€à¸Ÿà¸£à¸¡
        humanoid:Move(Vector3.zero)
        humanoid:ChangeState(Enum.HumanoidStateType.Physics)

        local pos = root.Position
        local currentFlat = Vector3.new(pos.X, elevatedY, pos.Z)
        local targetFlat = Vector3.new(lockedTarget.X, elevatedY, lockedTarget.Z)

        local dist = (targetFlat - currentFlat).Magnitude
        local step = speed * dt

        -- à¸–à¸¶à¸‡à¸›à¸¥à¸²à¸¢à¸—à¸²à¸‡
        if dist <= 10 then
            root.CFrame = CFrame.new(
                lockedTarget.X,
                lockedTarget.Y + height,
                lockedTarget.Z
            ) * CFrame.Angles(math.rad(90), 0, 0)

            if self.WalkConnection then self.WalkConnection:Disconnect() end
            self._isWalking = false
            return
        end

        local alpha = math.min(step / dist, 1)
        local newPos = currentFlat:Lerp(targetFlat, alpha)

        root.CFrame = CFrame.new(newPos.X, elevatedY + height, newPos.Z)
    end)

    return true
end
function Player:Talk(target)
    if workspace.Proximity:FindFirstChild(target) then
        local WalkTo = self:WalkTo(workspace.Proximity[target].HumanoidRootPart)

        if WalkTo then
            fireproximityprompt(workspace.Proximity[target].ProximityPrompt)
        end	
    end
end

function Player:CheckQuest()
    if self.CompletedQuests["Introduction0"] and not self.Quests["Introduction1"] and not self.CompletedQuests["Introduction1"] then
        Player:Talk("Sensei Moro")
        local args = {
            [1] = "GiveIntroduction1"
        }

        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
    end
end

function Player:SellItem(includes)
    if typeof(includes) == "table" then
       includes = includes
    else
        includes = {includes}
    end 
    
    
    table.insert(includes , "Darkryte")
    table.insert(includes , "Demonite")
    table.insert(includes , "Lightite")
    table.insert(includes , "Magmaite")
    table.insert(includes , "Fireite")
    table.insert(includes , "Eye Ore")
    table.insert(includes , "Mythril")


    for i,v in pairs(self.Inventory) do
        if typeof(v) == "number" and not table.find(includes , tostring(i)) then
             local args = {
                "SellConfirm",
                {
                    Basket = {
                        [tostring(i)] = v
                    }
                }
            }

            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
        end
    end
end
function Player:CheckHaveDemoniteKey()
    for i,v in pairs(PlayerController.Replica.Data.Inventory.Misc) do
        if v.Name == "DemoniteKey" then
            return true
        end
    end
    return false
end
function Player:CheckHaveMiscInInventory(name)
    for i,v in pairs(PlayerController.Replica.Data.Inventory.Misc) do
        if v.Name == name then
            return true
        end
    end
    return false
end


function Debug()

    if not PlayerController.Replica.Data.EquippedAchievement then
        local args = {
            "playtime"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("AchievementService"):WaitForChild("RE"):WaitForChild("EquipAchievement"):FireServer(unpack(args))
        wait(.2)
    end
    if not PlayerController.Replica.Data.PreviousForge and game:GetService("Players").LocalPlayer.PlayerGui.Forge.Enabled == true then 
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
        ForgeController:ChangeCamera("Close")
    end 
    if ForgeController.Sequence == "Showcase" then
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
        ForgeController:ChangeCamera("Close")
    elseif ForgeController.Sequence == "OreSelect" then
        for i,v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Forge.OreSelect.OresFrame.Frame.Close.MouseButton1Click)) do
            v.Function()
        end
        ForgeController:ChangeCamera("Close")
    end
    -- if getfflag("NextGenReplicatorEnabledWrite4") then
    --     setfflag("NextGenReplicatorEnabledWrite4", "true")
    -- end
end

local RarityTable = {
    "Common", "Uncommon", "Rare", "Epic", "Legendary", 
    "Mythic", "Relic", "Exotic", "Divine", "Unobtainable"
}

local function GetRarityRank(rarityName)
    return table.find(RarityTable, rarityName) or 0
end
local function GetOrePriority(v)
    if v.Ore == "Slimite" then
        return 999
    elseif v.Ore == "Boneite" then
        return 998
    else
        return GetRarityRank(RerollModule:GetRarityType(v.Ore))
    end
end

function Player:GetBestInventory()
    local BestLoadout = {
        Weapon = "",
        Armor = {
            Helmet = "",
            Chestplate = "",
            Leggings = ""
        },
        Pickaxe = ""
    }

    local BestStats = {
        Weapon = {Rank = -1, Value = -1},
        Helmet = {Rank = -1, Value = -1},
        Chestplate = {Rank = -1, Value = -1},
        Leggings = {Rank = -1, Value = -1},
        Pickaxe = -1 
    }

    for i, v in pairs(PlayerController.Replica.Data.Inventory.Equipments) do
        
        local itemType = Equipments:GetItemType(v.Type)
        local itemRarity = RerollModule:GetRarityType(v.Ore)
        local currentRank = GetRarityRank(itemRarity)

        if itemType == "Weapon" then
            local damage = Equipments:CalculateDamage(v) or 0
            currentRank = GetOrePriority(v)
            if (currentRank > BestStats.Weapon.Rank) or (currentRank == BestStats.Weapon.Rank and damage > BestStats.Weapon.Value) then
                BestLoadout.Weapon = v
                BestStats.Weapon = {Rank = currentRank, Value = damage}
            end

        elseif itemType == "Armor" then
            local health = Equipments:CalculateFlatHealth(v) or 0
            
            if v.Type:find("Helmet") then
                if (currentRank > BestStats.Helmet.Rank) or (currentRank == BestStats.Helmet.Rank and health > BestStats.Helmet.Value) then
                    BestLoadout.Armor.Helmet = v
                    BestStats.Helmet = {Rank = currentRank, Value = health}
                end
            elseif v.Type:find("Chestplate") then
                if (currentRank > BestStats.Chestplate.Rank) or (currentRank == BestStats.Chestplate.Rank and health > BestStats.Chestplate.Value) then
                    BestLoadout.Armor.Chestplate = v
                    BestStats.Chestplate = {Rank = currentRank, Value = health}
                end
            elseif v.Type:find("Leggings") then
                if (currentRank > BestStats.Leggings.Rank) or (currentRank == BestStats.Leggings.Rank and health > BestStats.Leggings.Value) then
                    BestLoadout.Armor.Leggings = v
                    BestStats.Leggings = {Rank = currentRank, Value = health}
                end
            end

        else 
            local pickaxePower = Equipments:CalculatePickaxeDamage(v) or 0
            
            if pickaxePower > BestStats.Pickaxe then
                BestLoadout.Pickaxe = v
                BestStats.Pickaxe = pickaxePower
            end
        end
    end

    return BestLoadout
end


function Player:DoQuestStep()
    self:CheckQuest()
    Debug()

    if self.Quests["Introduction0"] then
        Player:Talk("Sensei Moro") 
        wait(.1)
        local args = {
            "Closed"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))
    elseif self.Quests["Introduction1"] then
        IndicatorController:IndicateButton(nil)


        if self.Quests.Introduction1.Progress[1].currentProgress == 0 then
            local args = {
                "Introduction1",
                1
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("QuestService"):WaitForChild("RF"):WaitForChild("ProgressUIQuest"):InvokeServer(unpack(args)) 
        end

        if self.Quests.Introduction1.Progress[2].currentProgress == 0 then
            local args = {
                "Introduction1",
                2
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("QuestService"):WaitForChild("RF"):WaitForChild("ProgressUIQuest"):InvokeServer(unpack(args))
        end
        
        if not self.Equipped["Pickaxe"] then
        
            local args = {
                {
                    Runes = {},
                    Name = "Stone Pickaxe"
                }
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
            
        else
            NearestMonster , Distance = self:GetNearestMonster({"Zombie"})
            if NearestMonster and Distance < 7 then
                Move = self:WalkTo(NearestMonster.PrimaryPart)

                if Move then
                local args = {
                    "Weapon"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                
                end
            else
            Rock = self:GetNearestRock("Pebble")

            Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

            if Move then
                local args = {
                    "Pickaxe"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
            end	
        end
        end
    elseif self.Quests["Introduction2"] then
        --

        a,b = Player:GetForgeItems()

        if b >= 3 then
            WalkTo = self:WalkTo(workspace.Proximity["Forge"]) 
            if WalkTo then
                self:ForgeWeapon(workspace.Proximity["Forge"]) 
                task.wait(.5)
            end
        else
            Rock = self:GetNearestRock("Pebble")

            Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

            if Move then
                local args = {
                    "Pickaxe"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
            end	
        end
        
    elseif self.Quests["Introduction3"] then
        --
        if not self.Equipped["Weapon"] or self.Quests.Introduction3.Progress[1].currentProgress == 0 then
            for i,v in pairs(self.Inventory.Equipments) do
                if Equipments:GetItemType(v.Type) == "Weapon" then
                    local args = {
                        v
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
                    break
                end
            end    
        end
        
        WalkTo = self:WalkTo(self.Position.Sell)
        if WalkTo then
            
        
        if PlayerController.Replica.Data.Equipped.Weapon then
            for i,v in pairs(self.Inventory.Equipments) do
                if Equipments:GetItemType(v.Type) == "Weapon" and v.GUID ~= PlayerController.Replica.Data.Equipped.Weapon.GUID then
                    --
                    local args = {
                        workspace:WaitForChild("Proximity"):WaitForChild("Marbles")
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Dialogue"):InvokeServer(unpack(args))

                    local args = {
                        workspace:WaitForChild("Proximity"):WaitForChild("Marbles"),
                        "SellConfirm"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("ForceDialogue"):InvokeServer(unpack(args))

                                        local args = {
                                            "SellConfirm",
                                            {
                                                Basket = {
                                                    [v.GUID] = true
                                                }
                                            }
                                        }
                                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))

                                        --
                                        task.wait()
                                        local args = {
                        "Closed"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))

                    break

                end
            end
        end
        end

    elseif self.Quests["Introduction4"] then

        if self.Quests.Introduction4.Progress[1].currentProgress == 0 then
            WalkTo = self:WalkTo(self.Position.BronzePickaxe)
            if WalkTo then
                local args = {
                    "Bronze Pickaxe",
                    1
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
                task.wait()
            end 
        elseif self.Quests.Introduction4.Progress[2].currentProgress < self.Quests.Introduction4.Progress[2].requiredAmount then
            NearestMonster , Distance = self:GetNearestMonster("All")
            if NearestMonster and Distance < 7 then
                Move = self:WalkTo(NearestMonster.PrimaryPart)

                if Move then
                local args = {
                    "Weapon"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                
                end
            else
                Rock = self:GetNearestRock("Pebble")

                Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

                if Move then
                        local args = {
                        "Pickaxe"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))

                end	    
            end 
            
        elseif self.Quests.Introduction4.Progress[3].currentProgress == 0 then
            NearestMonster , Distance = self:GetNearestMonster({"Zombie"})
                Move = self:WalkTo(NearestMonster.PrimaryPart)

                if Move then
                local args = {
                    "Weapon"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                
            end
        end 
    elseif self.Quests["Introduction5"] then

        if Player:GetStashInventoryCount() >= 3 or PlayerController.Replica.Data.PreviousForge then
            WalkTo = self:WalkTo(workspace.Proximity["Forge"]) 
            if WalkTo then
                self:ForgeArmor(workspace.Proximity["Forge"]) 
                task.wait(.5)
            end
        else
            -- go mine
            Rock = self:GetNearestRock({"Pebble"})

            Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

            if Move then
                    local args = {
                    "Pickaxe"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))

            end	   
        end
    elseif self.Quests["Introduction6"] then
        if self.Quests.Introduction6.Progress[1].currentProgress == 0 then
            print("buy iron pickaxe")
            if self.Gold >= 500 then
                WalkTo = self:WalkTo(workspace.Proximity["Iron Pickaxe"].PrimaryPart)
                
                if WalkTo then
                    local args = {
                        "Iron Pickaxe",
                        1
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
                    task.wait(1)
                end
            else
                if Player:GetStashInventoryCount() >= 3 or PlayerController.Replica.Data.PreviousForge then
                    WalkTo = self:WalkTo2(workspace.Proximity["Forge"]) 
                    if WalkTo then
                        self:ForgeArmor(workspace.Proximity["Forge"]) 
                        task.wait(1)
                    end
                else
                    -- go mine
                    Rock = self:GetNearestRock({"Pebble"})

                    Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

                    if Move then
                            local args = {
                            "Pickaxe"
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))

                    end	   
            end
                
            end
        elseif self.Quests.Introduction6.Progress[2].currentProgress < self.Quests.Introduction6.Progress[2].requiredAmount then
            NearestMonster , Distance = self:GetNearestMonster({"Zombie"})
                Move = self:WalkTo(NearestMonster.PrimaryPart)

                if Move then
                local args = {
                    "Weapon"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                end
        elseif self.Quests.Introduction6.Progress[3].currentProgress < self.Quests.Introduction6.Progress[3].requiredAmount then
            -- forge weapon
            Count = 0
            for itemName, amount in pairs(Player.Inventory_1()) do
                if typeof(amount) == "number" then
                    Count = Count + amount
                end
            end
            
            if self:GetStashInventoryCount() < 9 then
                -- get ore
                Rock = self:GetNearestRock({"Pebble","Rock"})

                Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

                if Move then
                        local args = {
                        "Pickaxe"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))

                end	   
            else
                WalkTo = self:WalkTo(workspace.Proximity["Forge"]) 
                if WalkTo then
                    self:ForgeWeapon(workspace.Proximity["Forge"]) 
                    task.wait(.5)   
                end
            end
        elseif self.Quests.Introduction6.Progress[4].currentProgress < self.Quests.Introduction6.Progress[4].requiredAmount then
            -- pickaxe ore
            NearestMonster , Distance = self:GetNearestMonster("All")
            if NearestMonster and Distance < 7 then
                Move = self:WalkTo(NearestMonster.PrimaryPart)

                if Move then
                local args = {
                    "Weapon"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                
                end
                else
                Rock = self:GetNearestRock({"Pebble","Rock"})

                Move = self:WalkTo(Rock.PrimaryPart or Rock.Hitbox)

                if Move then
                        local args = {
                        "Pickaxe"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))

                end
            end
        end
    elseif self.Quests["Introduction7"] then
        self:Talk("Sensei Moro") 
        wait(.1)
        local args = {
            "Closed"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))
    elseif self.Quests["Introduction8"] then


        
        --
        local args = {
        self:GetBestInventory()["Weapon"].GUID
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("EnhanceService"):WaitForChild("RF"):WaitForChild("EnhanceEquipment"):InvokeServer(unpack(args))
        wait(.1)
        --




    elseif self.Quests["Introduction9"] then
        for i,v in pairs(PlayerController.Replica.Data.Inventory.Misc) do
            if v.Id and v.Id == "Fire_T1" then
                Player:AttachRune(self:GetBestInventory()["Weapon"].GUID , v.GUID)
            end
        end
    elseif self.Quests["Introduction10"] then
        self:Talk("Sensei Moro") 
        wait(.1)
        local args = {
            "Closed"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))
    elseif self.Quests["Introduction11"] then
        -- talk to Wizard
        self:Talk("Wizard")
        wait(.3)
        local args = {
            "FinishQuest"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
        task.wait(.3)
        local args = {
            "Closed"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))
    end 
    
end


local NoclipNotDup = tostring(math.random(10000000,99999999))
local shp = sethiddenproperty or set_hidden_property or set_hidden_prop or sethiddenprop
spawn(function()
    game:GetService("RunService").Stepped:Connect(function()
        local HumNoid = game.Players.LocalPlayer.Character:WaitForChild("Humanoid")
        local HumNoidRoot = game.Players.LocalPlayer.Character.PrimaryPart
        
        if _G.NoClip then
            if HumNoid:GetState() == Enum.HumanoidStateType.Seated or HumNoid.Health <= 0 then
                HumNoid.Jump = true
                HumNoid.Sit = false
                if HumNoidRoot:FindFirstChild("NoClip"..NoclipNotDup) then
                    HumNoidRoot:FindFirstChild("NoClip"..NoclipNotDup):Destroy()
                end
            end
            if HumNoid.Sit == false and HumNoid.Health > 0 then
                for _, v in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CanCollide = false
                    end
                end
            else
                HumNoid.Sit = false
            end
            HumNoid.PlatformStand = true
            if not HumNoidRoot:FindFirstChild("NoClip"..NoclipNotDup) and HumNoid.Sit == false then
                local bv = Instance.new("BodyVelocity")
                bv.Parent = HumNoidRoot
                bv.Name = "NoClip"..NoclipNotDup
                bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                bv.Velocity = Vector3.new(0,0,0)
            end
        else
            HumNoid.PlatformStand = false
            if HumNoidRoot:FindFirstChild("NoClip"..NoclipNotDup) then
                HumNoidRoot:FindFirstChild("NoClip"..NoclipNotDup):Destroy()
            end
        end
    end)
end)

function Player:EquipBest(Type)
    if Type == "Weapon" or Type == "All" then
        if not self.Equipped["Weapon"] or (self.Equipped["Weapon"] and self.Equipped["Weapon"].GUID ~= self:GetBestInventory()["Weapon"].GUID) then
            local args = {
                self:GetBestInventory()["Weapon"]
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
        end
    elseif Type == "Pickaxe" or Type == "All" then
        if not self.Equipped["Pickaxe"] or (self.Equipped["Pickaxe"] and self.Equipped["Pickaxe"].Name ~= self:GetBestInventory()["Pickaxe"].Name) then
            local args = {
                self:GetBestInventory()["Pickaxe"]
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
        end
    elseif Type == "Helmet" or Type == "All" then
        if not self.Equipped["Helmet"] or (self.Equipped["Helmet"] and self.Equipped["Helmet"].GUID ~= self:GetBestInventory()["Armor"]["Helmet"].GUID) then
            local args = {
                self:GetBestInventory()["Armor"]["Helmet"]
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
        end
    elseif Type == "Chestplate" or Type == "All" then
        if not self.Equipped["Chestplate"] or (self.Equipped["Chestplate"] and self.Equipped["Chestplate"].GUID ~= self:GetBestInventory()["Armor"]["Chestplate"].GUID) then
            local args = {
                self:GetBestInventory()["Armor"]["Chestplate"]
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
        end
    elseif Type == "Leggings" or Type == "All" then
        if not self.Equipped["Leggings"] or (self.Equipped["Leggings"] and self.Equipped["Leggings"].GUID ~= self:GetBestInventory()["Armor"]["Leggings"].GUID) then
            local args = {
                self:GetBestInventory()["Armor"]["Leggings"]
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CharacterService"):WaitForChild("RF"):WaitForChild("EquipItem"):InvokeServer(unpack(args))
        end
    end
end


function Player:PickaxeStep()
    if self:GetBestInventory()["Pickaxe"].Name == "Iron Pickaxe" then
        if self.Gold >= Proximities.Shop["Gold Pickaxe"].Price then
             WalkTo = self:WalkTo2(workspace.Proximity["Gold Pickaxe"].PrimaryPart)
            if WalkTo then
                local args = {
                    "Gold Pickaxe",
                    1
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
                task.wait()
            end 
            return true
        else
            return false
        end 
    elseif _G.Configs.Kaitun["Arcane Pickaxe"] and not self:CheckPickaxeInInventory("Arcane Pickaxe") then

            --
            if self.Gold >= Proximities.Shop["Arcane Pickaxe"].Price then
                if workspace.Proximity:FindFirstChild("Arcane Pickaxe") then
                    local WalkTo = self:WalkTo2(workspace.Proximity["Arcane Pickaxe"].PrimaryPart)
                    if WalkTo then
                        local args = {
                            "Arcane Pickaxe",
                            1
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
                        task.wait()
                    end
                end
            

             
            return true
        else
            return false
        end
    elseif _G.Configs.Kaitun["Magma Pickaxe"] and not self:CheckPickaxeInInventory("Magma Pickaxe") then
        if self.Gold >= Proximities.Shop["Magma Pickaxe"].Price then
            if workspace.Proximity:FindFirstChild("Magma Pickaxe") then
                local WalkTo = self:WalkTo2(workspace.Proximity["Magma Pickaxe"].PrimaryPart)
                if WalkTo then
                    local args = {
                        "Magma Pickaxe",
                        1
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
                    task.wait()
                end
            end
             
            return true
        else
            return false
        end
    elseif (self:GetBestInventory()["Pickaxe"].Name == "Arcane Pickaxe" or self:GetBestInventory()["Pickaxe"].Name == "Magma Pickaxe") and _G.Configs.Kaitun["Demonic Pickaxe"] and not self:CheckPickaxeInInventory("Demonic Pickaxe") then
        if self.Gold >= Proximities.Shop["Demonic Pickaxe"].Price then
            if workspace.Proximity:FindFirstChild("Demonic Pickaxe") then
                local WalkTo = self:WalkTo2(workspace.Proximity["Demonic Pickaxe"].PrimaryPart)
                if WalkTo then
                local args = {
                    "Demonic Pickaxe",
                    1
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
                task.wait()
            end
            end
            
            return true
        else
            return false
        end
    end
    return false
end


function Player:SecretQuest()
    --
    if not Player.CompletedQuests["Introduction11"] then
        if not self.CompletedQuests["BardQuest"] then
        -- check world  
            --
            if not self.Quests["BardQuest"] then
                self:Talk("Bard") 
                local args = {
                        "GiveBardQuest"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))

            else
                --
                if self:CheckHaveMiscInInventory("BardGuitar") then
                    --
                    Player:Talk("Bard")
                    for i = 1,25 do
                        task.spawn(function()
                            pcall(function()
                                local args = {
                                    "FinishQuest"
                                }
                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                            end)
                        end)
                    end
                    --
                elseif not self:CheckHaveMiscInInventory("BardGuitar") then
                    local WalkTo = self:WalkTo2(workspace.Proximity.BardGuitar.Guitar)
                    if WalkTo then
                        fireproximityprompt(workspace.Proximity.BardGuitar.ProximityPrompt)
                    end
                end
                --
            end
            --
       
        return false
        end
    elseif Player.CompletedQuests["Introduction11"] and not self.CompletedQuests["TomoQuest"] and Player.Level >= 10 then
        --game:GetService("TeleportService"):Teleport(129009554587176)
        if not self.CompletedQuests["TomoQuest"] then
            if self.Quests["TomoQuest"] then
                --
                if self:CheckHaveMiscInInventory("TomoCat") then
                    --

                    if self.World == "World1" then
                        
                    else
                        game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.PortalService.RF.TeleportToIsland:InvokeServer("Stonewake\'s Cross")
                        return
                    end
                    
                    
                    Player:Talk("Tomo")
                    for i = 1,25 do
                        task.spawn(function()
                            pcall(function()
                               
                                local args = {
                                    "FinishQuest"
                                }
                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                            end)
                        end)
                    end
                   
                else
                    if self.World == "World1" then
                        game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.PortalService.RF.TeleportToIsland:InvokeServer("Forgotten Kingdom")
                    else
                        local WalkTo = self:WalkTo2(workspace.Proximity.TomoCat.HumanoidRootPart)
                        if WalkTo then
                            fireproximityprompt(workspace.Proximity.TomoCat.ProximityPrompt)
                        end
                    end
                end
            else
                 if self.World == "World1" then
                    Player:Talk("Tomo")
                local args = {
                    "GiveTomoQuest"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                else
                    game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.PortalService.RF.TeleportToIsland:InvokeServer("Stonewake\'s Cross")
                    return
                end

                
            end  


            return false
        end
        
    end
    return true
end

function Player:ClaimCodex()
    for i,v in pairs(PlayerController.Replica.Data.Codex.Ores) do
        if not v.IsClaimed then
            local args = {
            tostring(i)
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CodexService"):WaitForChild("RF"):WaitForChild("ClaimOre"):InvokeServer(unpack(args))
            
        end
    end
    for i,v in pairs(PlayerController.Replica.Data.Codex.Equipments) do
        if not v.IsClaimed then
            local args = {
                tostring(i)
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CodexService"):WaitForChild("RF"):WaitForChild("ClaimEquipment"):InvokeServer(unpack(args))

        end
    end
    for i,v in pairs(PlayerController.Replica.Data.Codex.Enemies) do
        if not v.IsClaimed then
            local args = {
                tostring(i)
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("CodexService"):WaitForChild("RF"):WaitForChild("ClaimEnemy"):InvokeServer(unpack(args))
        end
    end
end

function Player:EquipBestAll()
    Player:EquipBest("Pickaxe")
    Player:EquipBest("Weapon")
    Player:EquipBest("Helmet")
    Player:EquipBest("Chestplate")
    Player:EquipBest("Leggings")
end

function Player:KillEnemies(Name , pos)
    pos = pos or nil
    local NearestMonster , Distance = self:GetNearestMonster(Name)
    
    print("Monster -> " , NearestMonster , Distance)
    if NearestMonster and Distance > 20 then
        if Distance > 100 then
            print("use tp 1")
            local WalkTo = self:WalkTo2(NearestMonster.PrimaryPart)

            if not WalkTo then
                return
            end 
        else
            print("use tp 2")
            local WalkTo = self:WalkTo(NearestMonster.PrimaryPart)
        end
    elseif NearestMonster then
        --
        
        if pos then
            if NearestMonster.Name:find("Elite") and not NearestMonster.Name:find("Rogue") then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = NearestMonster.PrimaryPart.CFrame * CFrame.new(0,8.7,0) * CFrame.Angles(math.rad(-90),0,0)
            else
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = NearestMonster.PrimaryPart.CFrame * CFrame.new(0,7.3,0) * CFrame.Angles(math.rad(-90),0,0)
            end
        else
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = NearestMonster.PrimaryPart.CFrame * CFrame.new(0,-8.7,0) * CFrame.Angles(math.rad(90),0,0)
        end

    end
    return Distance
end

function Player:buypotion()
    local WalkTo = Player:WalkTo(workspace.Proximity.Maria.HumanoidRootPart.Position)
    if WalkTo then
        local args = {
            "LuckPotion1",
            10
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Purchase"):InvokeServer(unpack(args))
    end
end

function Player:CheckRuneIsEmpty(pickaxe)
    for i,v in pairs (PlayerController.Replica.Data.Inventory.Equipments) do
        if v.Runes and v.Name == pickaxe then
            for X,Y in pairs(v.Runes) do
                if Y.IsEmpty == true then
                    return true
                end
            end
        end
    end

    return false
end

function Player:RuneEX()
    for i,v in pairs (PlayerController.Replica.Data.Inventory.Misc) do
        if v.Id and v. Id:find("_T") then
            if v.Traits then
                for X,Y in pairs(v.Traits) do
                    if Y.LuckBoost and Y.LuckBoost > 0.3 and Player:CheckRuneIsEmpty("Arcane Pickaxe") and self.Gold >= 40000 then
                        Player:AttachRune("Arcane Pickaxe" , v.GUID)
                    end
                end
            end
        end
    end
end

function Player:sell()
    local misc = PlayerController.Replica.Data.Inventory.Misc

    local SellList = {
        ["Tiny Essence"] = true,
        ["Small Essence"] = true,
        ["Medium Essence"] = true,
        ["Large Essence"] = true,
        ["Epic Essence"] = true,
        ["Superior Essence"] = true,
        ["Greater Essence"] = true,
    }

    local basket = {}
    for i,v in pairs (PlayerController.Replica.Data.Inventory.Misc) do
        if v.Id and v. Id:find("_T") then
            if v.Traits then
                for X,Y in pairs(v.Traits) do
                    if Y.LuckBoost and Y.LuckBoost > 0.3 then
                        
                    else
                        basket[v.GUID] = 1
                    end
                end
            end
        end
    end

    for _, item in ipairs(misc) do
        if SellList[item.Name] then
            basket[item.Name] = item.Quantity
        end
    end

    haveitem = nil
    for i,v in pairs(basket) do
        haveitem = true
    end

    if not haveitem then
        return
    end
    
    local args = {
        "SellConfirm",
        {
            Basket = basket
        }
    }

    game:GetService("ReplicatedStorage")
        :WaitForChild("Shared")
        :WaitForChild("Packages")
        :WaitForChild("Knit")
        :WaitForChild("Services")
        :WaitForChild("DialogueService")
        :WaitForChild("RF")
        :WaitForChild("RunCommand")
        :InvokeServer(unpack(args))
end

function Player:EquipmentBagUpgrade()
    if Player.Gold >= (PlayerController.Replica.Data.EquipmentBagUpgrade * 750 + 750) and PlayerController.Replica.Data.EquipmentBagUpgrade < 3 then
        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("StatusService"):WaitForChild("RF"):WaitForChild("UpgradeEquipmentBag"):InvokeServer()
    end
end

function Player:SellFollow()
    
    if self:GetBestInventory()["Weapon"].Ore ~= "Boneite" and self:GetBestInventory()["Weapon"].Ore ~= "Slimite" then

        Player:SellItem({"Boneite"})
        
    elseif self:GetBestInventory()["Weapon"].Ore == "Boneite" and self:GetBestInventory()["Weapon"].Ore ~= "Slimite" then
    
      
        Player:SellItem({"Slimite"})
        
    elseif self:GetBestInventory()["Weapon"].Ore == "Slimite" and self:GetBestInventory()["Armor"]["Chestplate"].Ore ~= "Slimite" then

        Player:SellItem({"Slimite"})
        
    elseif self:GetBestInventory()["Weapon"].Ore == "Slimite" and self:GetBestInventory()["Armor"]["Leggings"].Ore ~= "Slimite" then
  
        Player:SellItem({"Slimite"})
 
    elseif self:GetBestInventory()["Weapon"].Ore == "Slimite" and self:GetBestInventory()["Armor"]["Helmet"].Ore ~= "Slimite" then

        Player:SellItem()

    else

        Player:SellItem()
 
    end
end

function Player:FarmWorld2()
    Debug()
    
    if self:GetBestInventory()["Weapon"].Ore ~= "Boneite" and self:GetBestInventory()["Weapon"].Ore ~= "Slimite" then
        print("DO WEAPON BONEITE")
        if (self.Inventory.Boneite and self.Inventory.Boneite >= 12) or self.PreviousForge then
            -- forge
            local WalkTo = self:WalkTo2(workspace.Proximity.Forge)
            if WalkTo then
                Player:ForgeWeaponCustom("Boneite" , 12)
                wait(1)
            end
        else
            local Distance = Player:KillEnemies({"Skeleton Rogue" , "Axe Skeleton"})
            if Distance < 15 then
                spawn(function()
                    local args = {
                    "Weapon"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                end)
            end
        end
    elseif self:GetBestInventory()["Weapon"].Ore == "Boneite" and self:GetBestInventory()["Weapon"].Ore ~= "Slimite" then
        print("DO WEAPON SLIMITE")


        if (self.Inventory.Slimite and self.Inventory.Slimite >= 12) or self.PreviousForge then
            -- forge
            local WalkTo = self:WalkTo2(workspace.Proximity.Forge)
            if WalkTo then
                Player:ForgeWeaponCustom("Slimite" , 12)
                wait(1)
            end
            
        else
            
                local Distance = Player:KillEnemies({"Slime" , "Burning Slime"})
                if Distance < 15 then
                    spawn(function()
                        local args = {
                        "Weapon"
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                    end)
                end
                       
        end
    elseif self:GetBestInventory()["Weapon"].Ore == "Slimite" and self:GetBestInventory()["Armor"]["Chestplate"].Ore ~= "Slimite" then
        print("DO ARMOR CHESTPLATE")
        if (self.Inventory.Slimite and self.Inventory.Slimite >= 40) or self.PreviousForge then
            -- forge
            local WalkTo = self:WalkTo2(workspace.Proximity.Forge)
            if WalkTo then
                Player:ForgeArmorCustom("Slimite" , 40)
                wait(1)
            end
        else
                local Distance = Player:KillEnemies({"Slime" , "Burning Slime"})
                if Distance < 15 then
                    spawn(function()
                        local args = {
                        "Weapon"
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                    end)
                end
        end
    elseif self:GetBestInventory()["Weapon"].Ore == "Slimite" and self:GetBestInventory()["Armor"]["Leggings"].Ore ~= "Slimite" then
        print("DO ARMOR LEGGINGS")
        if (self.Inventory.Slimite and self.Inventory.Slimite >= 30) or self.PreviousForge then
            -- forge
            local WalkTo = self:WalkTo2(workspace.Proximity.Forge)
            if WalkTo then
                Player:ForgeArmorCustom("Slimite" , 30)
                wait(1)
            end
        else
            local Distance = Player:KillEnemies({"Slime" , "Burning Slime"})
            if Distance < 15 then
                spawn(function()
                    local args = {
                    "Weapon"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                end)
            end           
        end
    elseif self:GetBestInventory()["Weapon"].Ore == "Slimite" and self:GetBestInventory()["Armor"]["Helmet"].Ore ~= "Slimite" then
        print("DO ARMOR HELMET")
        if (self.Inventory.Slimite and self.Inventory.Slimite >= 27) or self.PreviousForge then
            -- forge
            local WalkTo = self:WalkTo2(workspace.Proximity.Forge)
            if WalkTo then
                Player:ForgeArmorCustom("Slimite" , 27)
                wait(1)
            end
        else
            local Distance = Player:KillEnemies({"Slime" , "Burning Slime"})
            if Distance < 15 then
                spawn(function()
                    local args = {
                    "Weapon"
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                end)
            end
            
        end
    else
        local Distance = Player:KillEnemies({"Skeleton Rogu" ,"Bomber" , "Axe Skeleton","Elite Rogue Skeleton" , "Elite Deathaxe Skeleton" , "Blazing Slime" , "Reaper"} , true)
        if Distance < 15 then
            spawn(function()
                local args = {
                "Weapon"
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
            end)
        end
    end
    return
end

_G.NoClip = true
_G.Kaitun = true
_G.HasTalkedCey = _G.HasTalkedCey or false
_G.sell = _G.sell or false

spawn(function()
    while task.wait() do
        a,b = pcall(function()
            if _G.Kaitun then
                Player:RuneEX()
                Player:EquipBestAll()
                Player:ClaimCodex()
                Debug()
                -- if not Player:SecretQuest() then
                --     return
                -- end


                if not _G.HasTalkedCey and not _G.sell then
                    Player:WalkTo2(workspace.Proximity["Greedy Cey"].HumanoidRootPart.Position)
                    _G.STOP = true
                    local npc = workspace.Proximity:FindFirstChild("Greedy Cey")
                    if npc and npc:FindFirstChild("ProximityPrompt") then
                        local args = { npc }
                        game:GetService("ReplicatedStorage")
                        :WaitForChild("Shared")
                        :WaitForChild("Packages")
                        :WaitForChild("Knit")
                        :WaitForChild("Services")
                        :WaitForChild("ProximityService")
                        :WaitForChild("RF")
                        :WaitForChild("Dialogue")
                        :InvokeServer(unpack(args))
                        fireproximityprompt(workspace.Proximity["Greedy Cey"].ProximityPrompt)
                        if game.PlaceId == 129009554587176 then
                        Player:sell()
                        Player:SellFollow()
                        end
                        wait(1.5)
                        _G.HasTalkedCey = true
                        _G.sell = true
                        print("à¸„à¸¸à¸¢à¸à¸±à¸š Greedy Cey à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§!")
                        --
                        
                    end
                    return
                end
                if #PlayerController.Replica.Data.Inventory.Equipments >= 6 + PlayerController.Replica.Data.EquipmentBagUpgrade  then
                    local WalkTo = Player:WalkTo2(Player.Position.Sell)
                    
                    if WalkTo then
                        Equipped = {}
                        for i,v in pairs(PlayerController.Replica.Data.Equipped) do
                            table.insert(Equipped , v.GUID or v.Name)
                        end
                        Basket = {}
                        for i,v in pairs(PlayerController.Replica.Data.Inventory.Equipments) do
                            if not table.find(Equipped , v.GUID or v.Name) and not table.find({"Arcane Pickaxe" , "Demonic Pickaxe" , "Magma Pickaxe"} , v.GUID or v.Name) then
                                --
                                Basket[v.GUID or v.Name] = true
                                --
                            end	
                        end

                        local args = {
                            workspace:WaitForChild("Proximity"):WaitForChild("Marbles")
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("Dialogue"):InvokeServer(unpack(args))

                        local args = {
                            workspace:WaitForChild("Proximity"):WaitForChild("Marbles"),
                            "SellConfirm"
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ProximityService"):WaitForChild("RF"):WaitForChild("ForceDialogue"):InvokeServer(unpack(args))

                        local args = {
                            "SellConfirm",
                            {
                                Basket = Basket
                            }
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))

                        --
                        task.wait()
                        local args = {
                            "Closed"
                        }
                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))
                    end
                else
                    if Player.Level >= 10 and Player.CompletedQuests["Introduction11"] then
                        -- GO TO WORLD 2
                        -- WORLD2

                        Player:EquipmentBagUpgrade()

                        if game.PlaceId == 76558904092080 and ((Player:GetBestInventory()["Pickaxe"].Name == "Gold Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Cobalt Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Iron Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Platinum Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Titanium Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Uranium Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Stonewake\'s Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Mythril Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Arcane Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Magma Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Demonic Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Lightite Pickaxe") and (Player.Gold <= Proximities.Shop["Arcane Pickaxe"].Price)) then
                            game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.PortalService.RF.TeleportToIsland:InvokeServer("Forgotten Kingdom")
                        elseif game.PlaceId == 76558904092080 and ((Player:GetBestInventory()["Pickaxe"].Name == "Arcane Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Demonic Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Magma Pickaxe") and (Player.Gold >= Proximities.Shop["Arcane Pickaxe"].Price)) then
                            game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.PortalService.RF.TeleportToIsland:InvokeServer("Forgotten Kingdom")
                            return
                        elseif game.PlaceId == 76558904092080 and ((Player:GetBestInventory()["Pickaxe"].Name == "Gold Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Cobalt Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Iron Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Platinum Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Titanium Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Uranium Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Stonewake\'s Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Mythril Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Lightite Pickaxe") and (Player.Gold >= Proximities.Shop["Arcane Pickaxe"].Price)) then
                            Step = Player:PickaxeStep()
                        elseif game.PlaceId ~= 76558904092080 and ((Player:GetBestInventory()["Pickaxe"].Name == "Gold Pickaxe" or 
    Player:GetBestInventory()["Pickaxe"].Name == "Cobalt Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Iron Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Platinum Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Titanium Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Uranium Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Stonewake\'s Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Mythril Pickaxe" or
    Player:GetBestInventory()["Pickaxe"].Name == "Lightite Pickaxe") and (Player.Gold >= Proximities.Shop["Arcane Pickaxe"].Price)) then
                            print("here")
                            game:GetService("ReplicatedStorage").Shared.Packages.Knit.Services.PortalService.RF.TeleportToIsland:InvokeServer("Stonewake\'s Cross")
                            return
                        else
                            if not Player.CompletedQuests["Island2Quest0"] then
                                Player:Talk("Sensei Moro 2") 
                                wait(.1)
                                local args = {
                                    "Closed"
                                }
                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RE"):WaitForChild("DialogueEvent"):FireServer(unpack(args))
                            else

                                local currentGold = Player.Gold
                                if game:GetService("Players").LocalPlayer.Backpack:FindFirstChild("LuckPotion1") then
                                    local args = {
                                        "LuckPotion1"
                                    }
                                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                                    return
                                elseif not game:GetService("Players").LocalPlayer.PlayerGui.Hotbar.Perks:FindFirstChild("LuckPotion1") and not game:GetService("Players").LocalPlayer.Backpack:FindFirstChild("LuckPotion1") and currentGold >= 3500 then
                                    Player:buypotion()
                                    return
                                elseif game:GetService("Players").LocalPlayer.PlayerGui.Hotbar.Perks:FindFirstChild("LuckPotion1") then
                                    
                                    -- HERE
                                    if Player:CheckHaveDemoniteKey() and workspace.Proximity:FindFirstChild("DemoniteCaveDoor") and workspace.Proximity.DemoniteCaveDoor.ProximityPrompt.Enabled == true then
                                        local MoveTo = Player:WalkTo2(workspace.Proximity["DemoniteCaveDoor"].PrimaryPart)
                                        if MoveTo then
                                            fireproximityprompt(workspace.Proximity["DemoniteCaveDoor"].ProximityPrompt)
                                        end
                                        return
                                    end
                                    
                                    if _G.Configs["Kaitun"]["Demonic Pickaxe"] and not Player.CompletedQuests["SkalQuest"] and (Player:GetBestInventory()["Pickaxe"].Name == "Arcane Pickaxe" or Player:GetBestInventory()["Pickaxe"].Name == "Magma Pickaxe") and not Player:CheckHaveDemoniteKey() then
                                        if Player.Inventory.Demonite and Player.Inventory.Demonite >= 3 then
                                            local MoveTo = Player:WalkTo2(workspace.Proximity["Skal"].PrimaryPart)
                                            if MoveTo then
                                                Player:Talk("Skal")
                                                local args = {
                                                    "CheckQuest"
                                                }
                                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                                                local args = {
                                                    "FinishQuest"
                                                }
                                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                                               
                                            end
                                            return
                                        end
                                        writefile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt", "Hop")
                                        if not Player.Quests["SkalQuest"] then
                                            local MoveTo = Player:WalkTo2(workspace.Proximity["Skal"].PrimaryPart)
                                            if MoveTo then
                                                Player:Talk("Skal")
                                                    local args = {
                                                    "CheckQuest"
                                                }
                                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                                                local args = {
                                                    "GiveSkalQuest"
                                                }
                                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DialogueService"):WaitForChild("RF"):WaitForChild("RunCommand"):InvokeServer(unpack(args))
                                                                                            
                                            end
                                        else
                                            --
                                            local FindOre ,c , b = Player:GetNearestRock_Vol("Volcanic Rock" , "Demonite")
                                            if FindOre then
                                                --
                                                Pos = (FindOre.PrimaryPart or FindOre.Hitbox).Position
                                                
                                                if (Pos - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude < 35 then
                                                    print(Player.Inventory.Demonite)
                                                    local NearestMonster , Distance_X = Player:GetNearestMonster("All")
                                                    if Distance_X < 30 then
                                                        local a, Distance = Player:GetNearestMonster("all")
                                                        if Distance < 30 then
                                                            game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame = a.HumanoidRootPart.CFrame * CFrame.new(0,7,0) * CFrame.Angles(math.rad(-90),0,0)
                                                            spawn(function()
                                                                local args = {
                                                                "Weapon"
                                                                }
                                                                game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                                                            end)
                                                        end

                                                    else
                                                        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = FindOre.Hitbox.CFrame * CFrame.new(0,-2,0) * CFrame.Angles(math.rad(90),0,0)
                                                        if FindOre:FindFirstChild("Ore") then
                                                            for i,v in pairs(FindOre:GetChildren()) do
                                                                if v.Name == "Ore" and v:GetAttribute("Ore") and v:GetAttribute("Ore") == "Demonite" then
                                                                    local args = {
                                                                        "Pickaxe"
                                                                    }
                                                                    game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                                                                end
                                                            end
                                                        else
                                                            local args = {
                                                                "Pickaxe"
                                                            }
                                                            game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                                                        end
                                                    end
                                                else
                                                    local MoveTo = Player:WalkTo2(FindOre.PrimaryPart or FindOre.Hitbox)
                                                    
                                                end
                                                return
                                            elseif b then
                                                print("WAITING")
                                            else
                                                print("WAIT ROCK VOL SPAWN")

                                                if _G.sell and _G.HasTalkedCey then
                                                    Step = Player:PickaxeStep()

                                                    if not Step then
                                                        Player:FarmWorld2()
                                                        Player:sell()
                                                        Player:SellFollow()
                                                    end
                                                end
                                                
                                            end
                                            --
                                        end

                                        return
                                    else
                                        -- if readfile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt") == "Hop" then
                                        --     writefile("ThunderHub_TheForge/"..tostring(game.Players.LocalPlayer.UserId).."Status.txt", "")
                                        -- end
                                    end
                                

                                    
                                    if _G.sell and _G.HasTalkedCey then
                                        Step = Player:PickaxeStep()

                                        if not Step then
                                            Player:FarmWorld2()
                                            Player:sell()
                                            Player:SellFollow()
                                        end
                                    end
                                else
                                if _G.sell and _G.HasTalkedCey then
                                        Step = Player:PickaxeStep()
                                        
                                        if not Step then
                                            Player:FarmWorld2()
                                            Player:sell()
                                        end
                                    end 
                                end
                            end


                        end
                    else
                        if not Player.CompletedQuests["Introduction11"] then
                            print("do quest step")
                                --
                            if Player:GetStashInventoryCount() >= 80 then
                               Player:WalkTo2(workspace.Proximity["Greedy Cey"].HumanoidRootPart.Position)
                                _G.STOP = true
                                local npc = workspace.Proximity:FindFirstChild("Greedy Cey")
                                if npc and npc:FindFirstChild("ProximityPrompt") then
                                    local args = { npc }
                                    game:GetService("ReplicatedStorage")
                                    :WaitForChild("Shared")
                                    :WaitForChild("Packages")
                                    :WaitForChild("Knit")
                                    :WaitForChild("Services")
                                    :WaitForChild("ProximityService")
                                    :WaitForChild("RF")
                                    :WaitForChild("Dialogue")
                                    :InvokeServer(unpack(args))
                                    fireproximityprompt(workspace.Proximity["Greedy Cey"].ProximityPrompt)
                                   
                                    Player:sell()
                                    Player:SellItem()
                                    return
                                    -- 
                                end
                            end
                           
                            Player:DoQuestStep()
                        else
                            Step = Player:PickaxeStep()

                            if not Step then
                                local FillForge , TotalItems , ItemCount = Player:GetForgeItemsMax()

                                if (ItemCount >= 30) or Player.PreviousForge then
                                    WalkTo = Player:WalkTo2(workspace.Proximity["Forge"]) 
                                    if WalkTo then
                                        Player:ForgeWeaponMoney(workspace.Proximity["Forge"], 30)
                                        wait(1)
                                    end
                                else
                                    Ore = "Pebble"
                                    pos = nil
                                    if Player:GetBestInventory()["Pickaxe"].Name == "Gold Pickaxe" then
                                        Ore = "Boulder"
                                        pos = -8
                                    end
                                    Rock = Player:GetNearestRock({Ore})
                                
                                    Move = Player:WalkTo(Rock.PrimaryPart or Rock.Hitbox , pos)

                                    if Move then
                                        local args = {
                                            "Pickaxe"
                                        }
                                        game:GetService("ReplicatedStorage"):WaitForChild("Shared"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ToolService"):WaitForChild("RF"):WaitForChild("ToolActivated"):InvokeServer(unpack(args))
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end)
        if b then
            warn(b)
        end
    end
end)

local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

task.spawn(function()
	while task.wait(1800) do  -- 30 à¸™à¸²à¸—à¸µ = 1800 à¸§à¸´à¸™à¸²à¸—à¸µ
		print("Rejoining server...")
		TeleportService:Teleport(game.PlaceId, LocalPlayer)
	end
end)


local vu = game:GetService("VirtualUser")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

player.Idled:Connect(function()
    vu:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
    task.wait(1)
    vu:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
end)

local GuiService = game:GetService("GuiService")
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")

local player = Players.LocalPlayer

function GUI()
    if game.CoreGui:FindFirstChild("ThunderHub") then
	    game.CoreGui:FindFirstChild("ThunderHub"):Destroy()
    end

    local ThunderHub = Instance.new("ScreenGui")
    local Main = Instance.new("Frame")
    local Items = Instance.new("Frame")
    local Arrow = Instance.new("ImageLabel")
    local E = Instance.new("Frame")
    local Menus = Instance.new("Folder")
    local Tools = Instance.new("Frame")
    local BackBackground = Instance.new("Frame")
    local Pattern = Instance.new("ImageLabel")
    local UIGradient = Instance.new("UIGradient")
    local Arrow_2 = Instance.new("ImageLabel")
    local Frame = Instance.new("ScrollingFrame")
    local UIPadding = Instance.new("UIPadding")
    local Folder = Instance.new("Folder")
    local UIGridLayout = Instance.new("UIGridLayout")
    local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
    local Title = Instance.new("TextButton")
    local TextLabel = Instance.new("TextLabel")
    local UIGradient_2 = Instance.new("UIGradient")
    local ImageLabelack = Instance.new("ImageLabel")
    local UIGradient_3 = Instance.new("UIGradient")
    local Avatar = Instance.new("Frame")
    local UIAspectRatioConstraint_2 = Instance.new("UIAspectRatioConstraint")
    local Visibility = Instance.new("Frame")
    local UIListLayout = Instance.new("UIListLayout")
    local ShowAccessories = Instance.new("TextButton")
    local TextLabel_2 = Instance.new("TextLabel")
    local Check = Instance.new("Frame")
    local UIAspectRatioConstraint_3 = Instance.new("UIAspectRatioConstraint")
    local TextLabel_3 = Instance.new("TextLabel")
    local ShowAccessories_2 = Instance.new("TextButton")
    local TextLabel_4 = Instance.new("TextLabel")
    local Check_2 = Instance.new("Frame")
    local UIAspectRatioConstraint_4 = Instance.new("UIAspectRatioConstraint")
    local TextLabel_5 = Instance.new("TextLabel")
    local Visibility2 = Instance.new("Frame")
    local UIGridLayout_2 = Instance.new("UIGridLayout")
    local UIAspectRatioConstraint_5 = Instance.new("UIAspectRatioConstraint")
    local Front = Instance.new("ImageButton")
    local Icon = Instance.new("ImageLabel")
    local Hair = Instance.new("ImageButton")
    local Icon_2 = Instance.new("ImageLabel")
    local Hats = Instance.new("ImageButton")
    local Icon_3 = Instance.new("ImageLabel")
    local Neck = Instance.new("ImageButton")
    local Icon_4 = Instance.new("ImageLabel")
    local Shoulder = Instance.new("ImageButton")
    local Icon_5 = Instance.new("ImageLabel")
    local Waist = Instance.new("ImageButton")
    local Icon_6 = Instance.new("ImageLabel")
    local Back = Instance.new("ImageButton")
    local Icon_7 = Instance.new("ImageLabel")
    local Face = Instance.new("ImageButton")
    local Icon_8 = Instance.new("ImageLabel")
    local YesNo = Instance.new("Frame")
    local UIAspectRatioConstraint_6 = Instance.new("UIAspectRatioConstraint")
    local Frame_2 = Instance.new("Frame")
    local Arrow_3 = Instance.new("ImageLabel")
    local E_2 = Instance.new("Frame")
    local Title_2 = Instance.new("TextButton")
    local UIGradient_4 = Instance.new("UIGradient")
    local TextLabel_6 = Instance.new("TextLabel")
    local E2 = Instance.new("Frame")
    local Buttons = Instance.new("Frame")
    local UIListLayout_2 = Instance.new("UIListLayout")
    local Pattern_2 = Instance.new("ImageLabel")
    local UIGradient_5 = Instance.new("UIGradient")
    local Description = Instance.new("TextLabel")
    local Price = Instance.new("TextLabel")
    local UIGradient_6 = Instance.new("UIGradient")
    local Glow = Instance.new("ImageLabel")
    local UIGradient_7 = Instance.new("UIGradient")
    local Hud = Instance.new("Frame")
    local Level = Instance.new("TextLabel")
    local Gold = Instance.new("TextLabel")
    local XPbar = Instance.new("Frame")
    local Bar = Instance.new("Frame")
    local Shadow = Instance.new("ImageLabel")
    local Exps = Instance.new("Frame")
    local ExpTemplate = Instance.new("Frame")
    local TextLabel_7 = Instance.new("TextLabel")
    local UIListLayout_3 = Instance.new("UIListLayout")
    local XPbarHover = Instance.new("Frame")
    local Frame_3 = Instance.new("Frame")
    local TextLabel_8 = Instance.new("TextLabel")
    local TextLabel_9 = Instance.new("TextLabel")
    local OpenClose = Instance.new("TextButton")

    ThunderHub.Name = "ThunderHub"
    ThunderHub.Parent = game.CoreGui
    ThunderHub.Enabled = _G.GUIHUD
    ThunderHub.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ThunderHub.IgnoreGuiInset = true


    Main.Name = "Main"
    Main.Parent = ThunderHub
    Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Main.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Main.BorderSizePixel = 0
    Main.Size = UDim2.new(1, 0, 1, 0)

    Items.Name = "Items"
    Items.Parent = Main
    Items.AnchorPoint = Vector2.new(0.5, 0.5)
    Items.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Items.BackgroundTransparency = 0.200
    Items.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Items.BorderSizePixel = 0
    Items.Position = UDim2.new(0.514962614, 0, 0.499241263, 0)
    Items.Size = UDim2.new(0.939077258, 0, 0.625341415, 0)

    Arrow.Name = "Arrow"
    Arrow.Parent = Items
    Arrow.AnchorPoint = Vector2.new(0.5, 0.5)
    Arrow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Arrow.BackgroundTransparency = 1.000
    Arrow.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Arrow.BorderSizePixel = 0
    Arrow.Position = UDim2.new(0.500110805, 0, 0.498446047, 0)
    Arrow.Size = UDim2.new(1.02562499, 0, 1.04689193, 0)
    Arrow.Image = "rbxassetid://73004209115302"
    Arrow.ImageTransparency = 0.200
    Arrow.ScaleType = Enum.ScaleType.Slice
    Arrow.SliceCenter = Rect.new(102, 92, 338, 362)
    Arrow.SliceScale = 0.180

    E.Name = "E"
    E.Parent = Items
    E.AnchorPoint = Vector2.new(0.5, 0.5)
    E.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    E.BackgroundTransparency = 0.500
    E.BorderColor3 = Color3.fromRGB(0, 0, 0)
    E.BorderSizePixel = 0
    E.Position = UDim2.new(0.498950064, 0, 0.0698166862, 0)
    E.Size = UDim2.new(1.00000024, 0, 0.0905496702, 0)
    E.ZIndex = -2

    Menus.Name = "Menus"
    Menus.Parent = Items

    Tools.Name = "Tools"
    Tools.Parent = Menus
    Tools.AnchorPoint = Vector2.new(0.5, 0)
    Tools.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Tools.BackgroundTransparency = 1.000
    Tools.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Tools.BorderSizePixel = 0
    Tools.Position = UDim2.new(0.5, 0, 0, 0)
    Tools.Size = UDim2.new(1, 0, 1, -5)
    Tools.ZIndex = 2

    BackBackground.Name = "BackBackground"
    BackBackground.Parent = Tools
    BackBackground.AnchorPoint = Vector2.new(0.5, 0.5)
    BackBackground.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    BackBackground.BackgroundTransparency = 0.500
    BackBackground.BorderColor3 = Color3.fromRGB(0, 0, 0)
    BackBackground.BorderSizePixel = 0
    BackBackground.Position = UDim2.new(0.5, 0, 0.562606692, 0)
    BackBackground.Size = UDim2.new(0.955054522, 0, 0.831005871, 0)

    Pattern.Name = "Pattern"
    Pattern.Parent = BackBackground
    Pattern.AnchorPoint = Vector2.new(0.5, 0.5)
    Pattern.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Pattern.BackgroundTransparency = 1.000
    Pattern.BorderColor3 = Color3.fromRGB(27, 42, 53)
    Pattern.Position = UDim2.new(0.5, 0, 0.5, 0)
    Pattern.Size = UDim2.new(1, 0, 1, 0)
    Pattern.ZIndex = -10
    Pattern.Image = "rbxassetid://118362370693235"
    Pattern.ImageTransparency = 0.950
    Pattern.ScaleType = Enum.ScaleType.Tile
    Pattern.SliceCenter = Rect.new(0, 256, 0, 256)
    Pattern.TileSize = UDim2.new(0, 250, 0, 250)

    UIGradient.Rotation = -90
    UIGradient.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 0.39), NumberSequenceKeypoint.new(1.00, 0.91)}
    UIGradient.Parent = Pattern

    Arrow_2.Name = "Arrow"
    Arrow_2.Parent = BackBackground
    Arrow_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Arrow_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Arrow_2.BackgroundTransparency = 1.000
    Arrow_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Arrow_2.BorderSizePixel = 0
    Arrow_2.Position = UDim2.new(0.5, 0, 0.5, 0)
    Arrow_2.Size = UDim2.new(1, 0, 1, 0)
    Arrow_2.Image = "rbxassetid://73004209115302"
    Arrow_2.ImageColor3 = Color3.fromRGB(175, 175, 175)
    Arrow_2.ImageTransparency = 0.500
    Arrow_2.ScaleType = Enum.ScaleType.Slice
    Arrow_2.SliceCenter = Rect.new(257, 218, 257, 218)
    Arrow_2.SliceScale = 0.170

    Frame.Name = "Frame"
    Frame.Parent = Tools
    Frame.AnchorPoint = Vector2.new(0.5, 0.5)
    Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Frame.BackgroundTransparency = 1.000
    Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Frame.BorderSizePixel = 0
    Frame.Position = UDim2.new(0.5, 0, 0.569999993, 0)
    Frame.Selectable = false
    Frame.Size = UDim2.new(0.954999983, 0, 0.610000014, 0)
    Frame.CanvasSize = UDim2.new(0, 0, 0, 0)
    Frame.ScrollBarThickness = 5

    UIPadding.Parent = Frame
    UIPadding.PaddingBottom = UDim.new(0.0149999997, 0)
    UIPadding.PaddingTop = UDim.new(0.0149999997, 0)

    Folder.Parent = Frame

    UIGridLayout.Parent = Frame
    UIGridLayout.FillDirection = Enum.FillDirection.Vertical
    UIGridLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIGridLayout.CellPadding = UDim2.new(-0.00999999978, 0, 0, 0)
    UIGridLayout.CellSize = UDim2.new(0.400000006, 0, 1, 0)

    UIAspectRatioConstraint.Parent = UIGridLayout
    UIAspectRatioConstraint.AspectRatio = 0.850

    Title.Name = "Title"
    Title.Parent = Tools
    Title.Active = false
    Title.AnchorPoint = Vector2.new(0.5, 0.5)
    Title.BackgroundColor3 = Color3.fromRGB(255, 177, 88)
    Title.BackgroundTransparency = 0.850
    Title.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Title.BorderSizePixel = 0
    Title.Position = UDim2.new(0.257920772, 0, 0.0698166862, 0)
    Title.Size = UDim2.new(0.517941892, 0, 0.0905496702, 0)
    Title.AutoButtonColor = false
    Title.Font = Enum.Font.Unknown
    Title.Text = ""
    Title.TextColor3 = Color3.fromRGB(0, 0, 0)
    Title.TextScaled = true
    Title.TextSize = 14.000
    Title.TextWrapped = true

    TextLabel.Parent = Title
    TextLabel.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel.BackgroundTransparency = 1.000
    TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.BorderSizePixel = 0
    TextLabel.Position = UDim2.new(0.5964306, 0, 0.499999195, 0)
    TextLabel.Size = UDim2.new(1.09504032, 0, 0.900000036, 0)
    TextLabel.Font = Enum.Font.Unknown
    TextLabel.Text = "Equipments Bags"
    TextLabel.TextColor3 = Color3.fromRGB(245, 245, 245)
    TextLabel.TextScaled = true
    TextLabel.TextSize = 14.000
    TextLabel.TextWrapped = true
    TextLabel.TextXAlignment = Enum.TextXAlignment.Left

    UIGradient_2.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 0.00), NumberSequenceKeypoint.new(1.00, 1.00)}
    UIGradient_2.Parent = Title

    ImageLabelack.Name = "ImageLabelack"
    ImageLabelack.Parent = Title
    ImageLabelack.AnchorPoint = Vector2.new(0.5, 0.5)
    ImageLabelack.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ImageLabelack.BackgroundTransparency = 1.000
    ImageLabelack.BorderColor3 = Color3.fromRGB(0, 0, 0)
    ImageLabelack.BorderSizePixel = 0
    ImageLabelack.Position = UDim2.new(0.965359151, 0, 0.499999344, 0)
    ImageLabelack.Size = UDim2.new(1.93071866, 0, 1.00000012, 0)
    ImageLabelack.ZIndex = 0
    ImageLabelack.Image = "rbxassetid://101260160924780"
    ImageLabelack.ImageTransparency = 0.500
    ImageLabelack.ScaleType = Enum.ScaleType.Crop

    UIGradient_3.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 0.00), NumberSequenceKeypoint.new(1.00, 1.00)}
    UIGradient_3.Parent = ImageLabelack

    Avatar.Name = "Avatar"
    Avatar.Parent = Tools
    Avatar.AnchorPoint = Vector2.new(0.5, 0.5)
    Avatar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Avatar.BackgroundTransparency = 1.000
    Avatar.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Avatar.BorderSizePixel = 0
    Avatar.ClipsDescendants = true
    Avatar.Position = UDim2.new(1.16832602, 0, 0.457255989, 0)
    Avatar.Size = UDim2.new(0.337000012, 0, 0.879999995, 0)

    UIAspectRatioConstraint_2.Parent = Avatar
    UIAspectRatioConstraint_2.AspectRatio = 0.700

    Visibility.Name = "Visibility"
    Visibility.Parent = Tools
    Visibility.AnchorPoint = Vector2.new(0.5, 0.5)
    Visibility.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Visibility.BackgroundTransparency = 1.000
    Visibility.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Visibility.BorderSizePixel = 0
    Visibility.Position = UDim2.new(1.1647265, 0, 0.902332962, 0)
    Visibility.Size = UDim2.new(0.283201903, 0, 0.128141627, 0)
    Visibility.Visible = false

    UIListLayout.Parent = Visibility
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(-0.00999999978, 0)

    ShowAccessories.Name = "ShowAccessories"
    ShowAccessories.Parent = Visibility
    ShowAccessories.AnchorPoint = Vector2.new(0.5, 0.5)
    ShowAccessories.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    ShowAccessories.BackgroundTransparency = 1.000
    ShowAccessories.BorderColor3 = Color3.fromRGB(0, 0, 0)
    ShowAccessories.BorderSizePixel = 0
    ShowAccessories.Position = UDim2.new(0.5, 0, 0.229220822, 0)
    ShowAccessories.Size = UDim2.new(1, 0, 0.458441645, 0)
    ShowAccessories.Font = Enum.Font.Unknown
    ShowAccessories.Text = ""
    ShowAccessories.TextColor3 = Color3.fromRGB(0, 0, 0)
    ShowAccessories.TextScaled = true
    ShowAccessories.TextSize = 14.000
    ShowAccessories.TextWrapped = true

    TextLabel_2.Parent = ShowAccessories
    TextLabel_2.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_2.BackgroundTransparency = 1.000
    TextLabel_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_2.BorderSizePixel = 0
    TextLabel_2.Position = UDim2.new(0.556518793, 0, 0.500000358, 0)
    TextLabel_2.Size = UDim2.new(0.887000024, 0, 0.600000024, 0)
    TextLabel_2.ZIndex = 2
    TextLabel_2.Font = Enum.Font.Unknown
    TextLabel_2.Text = "Show Hat Accessories"
    TextLabel_2.TextColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_2.TextScaled = true
    TextLabel_2.TextSize = 14.000
    TextLabel_2.TextTransparency = 0.100
    TextLabel_2.TextWrapped = true
    TextLabel_2.TextXAlignment = Enum.TextXAlignment.Left

    Check.Name = "Check"
    Check.Parent = ShowAccessories
    Check.AnchorPoint = Vector2.new(0.5, 0.5)
    Check.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Check.BackgroundTransparency = 0.800
    Check.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Check.BorderSizePixel = 0
    Check.Position = UDim2.new(0.0469999984, 0, 0.550000012, 0)
    Check.Size = UDim2.new(0.060652934, 0, 0.5, 0)

    UIAspectRatioConstraint_3.Parent = Check

    TextLabel_3.Parent = Check
    TextLabel_3.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_3.BackgroundTransparency = 1.000
    TextLabel_3.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_3.BorderSizePixel = 0
    TextLabel_3.Position = UDim2.new(0.899999976, 0, 0.5, 0)
    TextLabel_3.Size = UDim2.new(1.60000002, 0, 1.60000002, 0)
    TextLabel_3.ZIndex = 2
    TextLabel_3.Font = Enum.Font.Unknown
    TextLabel_3.Text = "âœ“"
    TextLabel_3.TextColor3 = Color3.fromRGB(255, 235, 164)
    TextLabel_3.TextScaled = true
    TextLabel_3.TextSize = 14.000
    TextLabel_3.TextWrapped = true
    TextLabel_3.TextXAlignment = Enum.TextXAlignment.Left

    ShowAccessories_2.Name = "ShowAccessories"
    ShowAccessories_2.Parent = Visibility
    ShowAccessories_2.AnchorPoint = Vector2.new(0.5, 0.5)
    ShowAccessories_2.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    ShowAccessories_2.BackgroundTransparency = 1.000
    ShowAccessories_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    ShowAccessories_2.BorderSizePixel = 0
    ShowAccessories_2.Position = UDim2.new(0.5, 0, 0.687662244, 0)
    ShowAccessories_2.Size = UDim2.new(1, 0, 0.458441705, 0)
    ShowAccessories_2.Font = Enum.Font.Unknown
    ShowAccessories_2.Text = ""
    ShowAccessories_2.TextColor3 = Color3.fromRGB(0, 0, 0)
    ShowAccessories_2.TextScaled = true
    ShowAccessories_2.TextSize = 14.000
    ShowAccessories_2.TextWrapped = true

    TextLabel_4.Parent = ShowAccessories_2
    TextLabel_4.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel_4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_4.BackgroundTransparency = 1.000
    TextLabel_4.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_4.BorderSizePixel = 0
    TextLabel_4.Position = UDim2.new(0.556518793, 0, 0.500000358, 0)
    TextLabel_4.Size = UDim2.new(0.887000024, 0, 0.600000024, 0)
    TextLabel_4.ZIndex = 2
    TextLabel_4.Font = Enum.Font.Unknown
    TextLabel_4.Text = "Show Back Accessories"
    TextLabel_4.TextColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_4.TextScaled = true
    TextLabel_4.TextSize = 14.000
    TextLabel_4.TextTransparency = 0.100
    TextLabel_4.TextWrapped = true
    TextLabel_4.TextXAlignment = Enum.TextXAlignment.Left

    Check_2.Name = "Check"
    Check_2.Parent = ShowAccessories_2
    Check_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Check_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Check_2.BackgroundTransparency = 0.800
    Check_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Check_2.BorderSizePixel = 0
    Check_2.Position = UDim2.new(0.0469999984, 0, 0.550000012, 0)
    Check_2.Size = UDim2.new(0.0606529377, 0, 0.5, 0)

    UIAspectRatioConstraint_4.Parent = Check_2

    TextLabel_5.Parent = Check_2
    TextLabel_5.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel_5.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_5.BackgroundTransparency = 1.000
    TextLabel_5.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_5.BorderSizePixel = 0
    TextLabel_5.Position = UDim2.new(0.899999976, 0, 0.5, 0)
    TextLabel_5.Size = UDim2.new(1.60000002, 0, 1.60000002, 0)
    TextLabel_5.ZIndex = 2
    TextLabel_5.Font = Enum.Font.Unknown
    TextLabel_5.Text = "âœ“"
    TextLabel_5.TextColor3 = Color3.fromRGB(255, 235, 164)
    TextLabel_5.TextScaled = true
    TextLabel_5.TextSize = 14.000
    TextLabel_5.TextWrapped = true
    TextLabel_5.TextXAlignment = Enum.TextXAlignment.Left

    Visibility2.Name = "Visibility2"
    Visibility2.Parent = Tools
    Visibility2.AnchorPoint = Vector2.new(0.5, 0.5)
    Visibility2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Visibility2.BackgroundTransparency = 1.000
    Visibility2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Visibility2.BorderSizePixel = 0
    Visibility2.Position = UDim2.new(1.16812551, 0, 0.870403588, 0)
    Visibility2.Size = UDim2.new(0.302473187, 0, 0.0571725145, 0)
    Visibility2.Visible = false

    UIGridLayout_2.Parent = Visibility2
    UIGridLayout_2.SortOrder = Enum.SortOrder.LayoutOrder
    UIGridLayout_2.CellPadding = UDim2.new(0.0199999996, 0, 0, 0)
    UIGridLayout_2.CellSize = UDim2.new(0.104999997, 0, 1, 0)

    UIAspectRatioConstraint_5.Parent = UIGridLayout_2

    Front.Name = "Front"
    Front.Parent = Visibility2
    Front.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Front.BackgroundTransparency = 1.000
    Front.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Front.BorderSizePixel = 0
    Front.LayoutOrder = 5
    Front.Size = UDim2.new(0, 48, 1, 0)
    Front.ImageRectOffset = Vector2.new(0, 25)
    Front.ImageRectSize = Vector2.new(24, 24)
    Front.ImageTransparency = 1.000
    Front.ScaleType = Enum.ScaleType.Slice
    Front.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon.Name = "Icon"
    Icon.Parent = Front
    Icon.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon.BackgroundTransparency = 1.000
    Icon.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon.BorderSizePixel = 0
    Icon.LayoutOrder = 1
    Icon.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon.Selectable = true
    Icon.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon.ImageColor3 = Color3.fromRGB(150, 150, 150)
    Icon.ImageRectOffset = Vector2.new(1039, 407)
    Icon.ImageRectSize = Vector2.new(72, 72)
    Icon.ImageTransparency = 0.150
    Icon.ScaleType = Enum.ScaleType.Fit

    Hair.Name = "Hair"
    Hair.Parent = Visibility2
    Hair.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Hair.BackgroundTransparency = 1.000
    Hair.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Hair.BorderSizePixel = 0
    Hair.LayoutOrder = 1
    Hair.Size = UDim2.new(0, 48, 1, 0)
    Hair.ImageRectOffset = Vector2.new(0, 25)
    Hair.ImageRectSize = Vector2.new(24, 24)
    Hair.ImageTransparency = 1.000
    Hair.ScaleType = Enum.ScaleType.Slice
    Hair.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_2.Name = "Icon"
    Icon_2.Parent = Hair
    Icon_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_2.BackgroundTransparency = 1.000
    Icon_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_2.BorderSizePixel = 0
    Icon_2.LayoutOrder = 1
    Icon_2.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_2.Selectable = true
    Icon_2.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_2.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_2.ImageRectOffset = Vector2.new(695, 407)
    Icon_2.ImageRectSize = Vector2.new(72, 72)
    Icon_2.ImageTransparency = 0.150
    Icon_2.ScaleType = Enum.ScaleType.Fit

    Hats.Name = "Hats"
    Hats.Parent = Visibility2
    Hats.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Hats.BackgroundTransparency = 1.000
    Hats.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Hats.BorderSizePixel = 0
    Hats.Size = UDim2.new(0, 48, 1, 0)
    Hats.ImageRectOffset = Vector2.new(0, 25)
    Hats.ImageRectSize = Vector2.new(24, 24)
    Hats.ImageTransparency = 1.000
    Hats.ScaleType = Enum.ScaleType.Slice
    Hats.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_3.Name = "Icon"
    Icon_3.Parent = Hats
    Icon_3.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_3.BackgroundTransparency = 1.000
    Icon_3.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_3.BorderSizePixel = 0
    Icon_3.LayoutOrder = 1
    Icon_3.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_3.Selectable = true
    Icon_3.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_3.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_3.ImageRectOffset = Vector2.new(93, 407)
    Icon_3.ImageRectSize = Vector2.new(72, 72)
    Icon_3.ImageTransparency = 0.150
    Icon_3.ScaleType = Enum.ScaleType.Fit

    Neck.Name = "Neck"
    Neck.Parent = Visibility2
    Neck.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Neck.BackgroundTransparency = 1.000
    Neck.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Neck.BorderSizePixel = 0
    Neck.LayoutOrder = 3
    Neck.Size = UDim2.new(0, 48, 1, 0)
    Neck.ImageRectOffset = Vector2.new(0, 25)
    Neck.ImageRectSize = Vector2.new(24, 24)
    Neck.ImageTransparency = 1.000
    Neck.ScaleType = Enum.ScaleType.Slice
    Neck.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_4.Name = "Icon"
    Icon_4.Parent = Neck
    Icon_4.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_4.BackgroundTransparency = 1.000
    Icon_4.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_4.BorderSizePixel = 0
    Icon_4.LayoutOrder = 1
    Icon_4.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_4.Selectable = true
    Icon_4.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_4.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_4.ImageColor3 = Color3.fromRGB(150, 150, 150)
    Icon_4.ImageRectOffset = Vector2.new(953, 493)
    Icon_4.ImageRectSize = Vector2.new(72, 72)
    Icon_4.ImageTransparency = 0.150
    Icon_4.ScaleType = Enum.ScaleType.Fit

    Shoulder.Name = "Shoulder"
    Shoulder.Parent = Visibility2
    Shoulder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Shoulder.BackgroundTransparency = 1.000
    Shoulder.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Shoulder.BorderSizePixel = 0
    Shoulder.LayoutOrder = 4
    Shoulder.Size = UDim2.new(0, 48, 1, 0)
    Shoulder.ImageRectOffset = Vector2.new(0, 25)
    Shoulder.ImageRectSize = Vector2.new(24, 24)
    Shoulder.ImageTransparency = 1.000
    Shoulder.ScaleType = Enum.ScaleType.Slice
    Shoulder.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_5.Name = "Icon"
    Icon_5.Parent = Shoulder
    Icon_5.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_5.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_5.BackgroundTransparency = 1.000
    Icon_5.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_5.BorderSizePixel = 0
    Icon_5.LayoutOrder = 1
    Icon_5.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_5.Selectable = true
    Icon_5.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_5.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_5.ImageRectOffset = Vector2.new(930, 321)
    Icon_5.ImageRectSize = Vector2.new(72, 72)
    Icon_5.ImageTransparency = 0.150
    Icon_5.ScaleType = Enum.ScaleType.Fit

    Waist.Name = "Waist"
    Waist.Parent = Visibility2
    Waist.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Waist.BackgroundTransparency = 1.000
    Waist.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Waist.BorderSizePixel = 0
    Waist.LayoutOrder = 7
    Waist.Size = UDim2.new(0, 48, 1, 0)
    Waist.ImageRectOffset = Vector2.new(0, 25)
    Waist.ImageRectSize = Vector2.new(24, 24)
    Waist.ImageTransparency = 1.000
    Waist.ScaleType = Enum.ScaleType.Slice
    Waist.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_6.Name = "Icon"
    Icon_6.Parent = Waist
    Icon_6.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_6.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_6.BackgroundTransparency = 1.000
    Icon_6.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_6.BorderSizePixel = 0
    Icon_6.LayoutOrder = 1
    Icon_6.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_6.Selectable = true
    Icon_6.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_6.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_6.ImageColor3 = Color3.fromRGB(150, 150, 150)
    Icon_6.ImageRectOffset = Vector2.new(1016, 321)
    Icon_6.ImageRectSize = Vector2.new(72, 72)
    Icon_6.ImageTransparency = 0.150
    Icon_6.ScaleType = Enum.ScaleType.Fit

    Back.Name = "Back"
    Back.Parent = Visibility2
    Back.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Back.BackgroundTransparency = 1.000
    Back.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Back.BorderSizePixel = 0
    Back.LayoutOrder = 6
    Back.Size = UDim2.new(0, 48, 1, 0)
    Back.ImageRectOffset = Vector2.new(0, 25)
    Back.ImageRectSize = Vector2.new(24, 24)
    Back.ImageTransparency = 1.000
    Back.ScaleType = Enum.ScaleType.Slice
    Back.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_7.Name = "Icon"
    Icon_7.Parent = Back
    Icon_7.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_7.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_7.BackgroundTransparency = 1.000
    Icon_7.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_7.BorderSizePixel = 0
    Icon_7.LayoutOrder = 1
    Icon_7.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_7.Selectable = true
    Icon_7.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_7.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_7.ImageRectOffset = Vector2.new(1555, 407)
    Icon_7.ImageRectSize = Vector2.new(72, 72)
    Icon_7.ImageTransparency = 0.150
    Icon_7.ScaleType = Enum.ScaleType.Fit

    Face.Name = "Face"
    Face.Parent = Visibility2
    Face.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Face.BackgroundTransparency = 1.000
    Face.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Face.BorderSizePixel = 0
    Face.LayoutOrder = 2
    Face.Size = UDim2.new(0, 48, 1, 0)
    Face.ImageRectOffset = Vector2.new(0, 25)
    Face.ImageRectSize = Vector2.new(24, 24)
    Face.ImageTransparency = 1.000
    Face.ScaleType = Enum.ScaleType.Slice
    Face.SliceCenter = Rect.new(12, 12, 12, 12)

    Icon_8.Name = "Icon"
    Icon_8.Parent = Face
    Icon_8.AnchorPoint = Vector2.new(0.5, 0.5)
    Icon_8.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Icon_8.BackgroundTransparency = 1.000
    Icon_8.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Icon_8.BorderSizePixel = 0
    Icon_8.LayoutOrder = 1
    Icon_8.Position = UDim2.new(0.5, 0, 0.5, 0)
    Icon_8.Selectable = true
    Icon_8.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)
    Icon_8.Image = "rbxasset://textures/AvatarEditorImages/Sheet.png"
    Icon_8.ImageRectOffset = Vector2.new(1274, 321)
    Icon_8.ImageRectSize = Vector2.new(72, 72)
    Icon_8.ImageTransparency = 0.150
    Icon_8.ScaleType = Enum.ScaleType.Fit

    YesNo.Name = "YesNo"
    YesNo.Parent = Tools
    YesNo.AnchorPoint = Vector2.new(0.5, 0.5)
    YesNo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    YesNo.BackgroundTransparency = 1.000
    YesNo.BorderColor3 = Color3.fromRGB(0, 0, 0)
    YesNo.BorderSizePixel = 0
    YesNo.ClipsDescendants = true
    YesNo.Position = UDim2.new(0.5, 0, 0.5, 0)
    YesNo.Size = UDim2.new(1.079, 0, 0.592000008, 0)
    YesNo.ZIndex = 15

    UIAspectRatioConstraint_6.Parent = YesNo
    UIAspectRatioConstraint_6.AspectRatio = 1.500

    Frame_2.Parent = YesNo
    Frame_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Frame_2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Frame_2.BackgroundTransparency = 0.200
    Frame_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Frame_2.BorderSizePixel = 0
    Frame_2.Position = UDim2.new(0.5, 0, 1.5, 0)
    Frame_2.Size = UDim2.new(0.800000012, 0, 0.800000012, 0)

    Arrow_3.Name = "Arrow"
    Arrow_3.Parent = Frame_2
    Arrow_3.AnchorPoint = Vector2.new(0.5, 0.5)
    Arrow_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Arrow_3.BackgroundTransparency = 1.000
    Arrow_3.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Arrow_3.BorderSizePixel = 0
    Arrow_3.Position = UDim2.new(0.5, 0, 0.5, 0)
    Arrow_3.Size = UDim2.new(1.02999997, 0, 1.04999995, 0)
    Arrow_3.Image = "rbxassetid://73004209115302"
    Arrow_3.ImageTransparency = 0.200
    Arrow_3.ScaleType = Enum.ScaleType.Slice
    Arrow_3.SliceCenter = Rect.new(102, 92, 338, 362)
    Arrow_3.SliceScale = 0.180

    E_2.Name = "E"
    E_2.Parent = Frame_2
    E_2.AnchorPoint = Vector2.new(0.5, 0.5)
    E_2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    E_2.BackgroundTransparency = 0.500
    E_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    E_2.BorderSizePixel = 0
    E_2.Position = UDim2.new(0.5, 0, 0.0798107609, 0)
    E_2.Size = UDim2.new(0.999999821, 0, 0.159621418, 0)
    E_2.ZIndex = -2

    Title_2.Name = "Title"
    Title_2.Parent = Frame_2
    Title_2.Active = false
    Title_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Title_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Title_2.BackgroundTransparency = 0.900
    Title_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Title_2.BorderSizePixel = 0
    Title_2.Position = UDim2.new(0.49999997, 0, 0.129318237, 0)
    Title_2.Size = UDim2.new(0.800000012, 0, 0.142353654, 0)
    Title_2.AutoButtonColor = false
    Title_2.Font = Enum.Font.Unknown
    Title_2.Text = ""
    Title_2.TextColor3 = Color3.fromRGB(0, 0, 0)
    Title_2.TextScaled = true
    Title_2.TextSize = 14.000
    Title_2.TextWrapped = true

    UIGradient_4.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 1.00), NumberSequenceKeypoint.new(0.39, 0.00), NumberSequenceKeypoint.new(0.60, 0.00), NumberSequenceKeypoint.new(1.00, 1.00)}
    UIGradient_4.Parent = Title_2

    TextLabel_6.Parent = Title_2
    TextLabel_6.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel_6.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_6.BackgroundTransparency = 1.000
    TextLabel_6.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_6.BorderSizePixel = 0
    TextLabel_6.Position = UDim2.new(0.5, 0, 0.5, 0)
    TextLabel_6.Size = UDim2.new(1.19599998, 0, 0.949999988, 0)
    TextLabel_6.Font = Enum.Font.Unknown
    TextLabel_6.Text = "Confirmation"
    TextLabel_6.TextColor3 = Color3.fromRGB(240, 240, 240)
    TextLabel_6.TextScaled = true
    TextLabel_6.TextSize = 14.000
    TextLabel_6.TextWrapped = true

    E2.Name = "E2"
    E2.Parent = Frame_2
    E2.AnchorPoint = Vector2.new(0.5, 0.5)
    E2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    E2.BackgroundTransparency = 0.500
    E2.BorderColor3 = Color3.fromRGB(0, 0, 0)
    E2.BorderSizePixel = 0
    E2.Position = UDim2.new(0.5, 0, 0.891230643, 0)
    E2.Size = UDim2.new(0.999999821, 0, 0.213134751, 0)
    E2.ZIndex = -2

    Buttons.Name = "Buttons"
    Buttons.Parent = Frame_2
    Buttons.AnchorPoint = Vector2.new(0.5, 0.5)
    Buttons.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Buttons.BackgroundTransparency = 1.000
    Buttons.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Buttons.BorderSizePixel = 0
    Buttons.Position = UDim2.new(0.50000006, 0, 0.818868816, 0)
    Buttons.Size = UDim2.new(0.379999995, 0, 0.159999996, 0)

    UIListLayout_2.Parent = Buttons
    UIListLayout_2.FillDirection = Enum.FillDirection.Horizontal
    UIListLayout_2.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIListLayout_2.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout_2.VerticalAlignment = Enum.VerticalAlignment.Center
    UIListLayout_2.Padding = UDim.new(0.119999997, 0)

    Pattern_2.Name = "Pattern"
    Pattern_2.Parent = Frame_2
    Pattern_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Pattern_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Pattern_2.BackgroundTransparency = 1.000
    Pattern_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
    Pattern_2.Position = UDim2.new(0.5, 0, 0.5, 0)
    Pattern_2.Size = UDim2.new(1, 0, 1, 0)
    Pattern_2.ZIndex = -10
    Pattern_2.Image = "rbxassetid://118362370693235"
    Pattern_2.ImageTransparency = 0.850
    Pattern_2.ScaleType = Enum.ScaleType.Tile
    Pattern_2.SliceCenter = Rect.new(0, 256, 0, 256)
    Pattern_2.TileSize = UDim2.new(0, 250, 0, 250)

    UIGradient_5.Rotation = -90
    UIGradient_5.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 0.39), NumberSequenceKeypoint.new(1.00, 0.91)}
    UIGradient_5.Parent = Pattern_2

    Description.Name = "Description"
    Description.Parent = Frame_2
    Description.AnchorPoint = Vector2.new(0.5, 0.5)
    Description.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Description.BackgroundTransparency = 1.000
    Description.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Description.BorderSizePixel = 0
    Description.Position = UDim2.new(0.50000006, 0, 0.379521608, 0)
    Description.Size = UDim2.new(0.800000012, 0, 0.239999995, 0)
    Description.Font = Enum.Font.Unknown
    Description.Text = "Do you want to upgrade your equipment storage (<font color=\"rgb(255,243,176)\">1</font> -> <font color=\"rgb(255,243,176)\">2</font>) for"
    Description.TextColor3 = Color3.fromRGB(200, 200, 200)
    Description.TextScaled = true
    Description.TextSize = 14.000
    Description.TextWrapped = true

    Price.Name = "Price"
    Price.Parent = Frame_2
    Price.AnchorPoint = Vector2.new(0.5, 0.5)
    Price.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Price.BackgroundTransparency = 0.500
    Price.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Price.BorderSizePixel = 0
    Price.Position = UDim2.new(0.5, 0, 0.605000019, 0)
    Price.Size = UDim2.new(0.670000017, 0, 0.119999997, 0)
    Price.Font = Enum.Font.Unknown
    Price.Text = "32$"
    Price.TextColor3 = Color3.fromRGB(255, 229, 164)
    Price.TextScaled = true
    Price.TextSize = 14.000
    Price.TextWrapped = true

    UIGradient_6.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 1.00), NumberSequenceKeypoint.new(0.30, 0.00), NumberSequenceKeypoint.new(0.70, 0.00), NumberSequenceKeypoint.new(1.00, 1.00)}
    UIGradient_6.Parent = Price

    Glow.Name = "Glow"
    Glow.Parent = Items
    Glow.AnchorPoint = Vector2.new(0.5, 0.5)
    Glow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Glow.BackgroundTransparency = 1.000
    Glow.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Glow.BorderSizePixel = 0
    Glow.Position = UDim2.new(0.5, 0, 0.498115689, 0)
    Glow.Size = UDim2.new(1.05800009, 0, 1.09123182, 0)
    Glow.ZIndex = -5
    Glow.Image = "rbxassetid://129546017656738"
    Glow.ImageTransparency = 0.800
    Glow.ScaleType = Enum.ScaleType.Slice
    Glow.SliceCenter = Rect.new(270, 270, 270, 270)
    Glow.SliceScale = 9.000

    UIGradient_7.Rotation = -90
    UIGradient_7.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 0.00), NumberSequenceKeypoint.new(1.00, 0.83)}
    UIGradient_7.Parent = Glow

    Hud.Name = "Hud"
    Hud.Parent = Main
    Hud.AnchorPoint = Vector2.new(0, 1)
    Hud.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Hud.BackgroundTransparency = 1.000
    Hud.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Hud.BorderSizePixel = 0
    Hud.Position = UDim2.new(0, 0, 1, 0)
    Hud.Size = UDim2.new(1, 0, 0.0979962721, 0)

    Level.Name = "Level"
    Level.Parent = Hud
    Level.AnchorPoint = Vector2.new(0, 0.5)
    Level.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Level.BackgroundTransparency = 1.000
    Level.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Level.BorderSizePixel = 0
    Level.Position = UDim2.new(0.420808822, 0, -0.541766703, 0)
    Level.Size = UDim2.new(0.180507347, 0, 0.476459891, 0)
    Level.Font = Enum.Font.Unknown
    Level.Text = "Level 50"
    Level.TextColor3 = Color3.fromRGB(255, 255, 255)
    Level.TextScaled = true
    Level.TextSize = 14.000
    Level.TextWrapped = true

    Gold.Name = "Gold"
    Gold.Parent = Hud
    Gold.AnchorPoint = Vector2.new(0, 0.5)
    Gold.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Gold.BackgroundTransparency = 1.000
    Gold.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Gold.BorderSizePixel = 0
    Gold.Position = UDim2.new(0.413991272, 0, 0.0391927473, 0)
    Gold.Size = UDim2.new(0.184462428, 0, 0.781313598, 0)
    Gold.Font = Enum.Font.Unknown
    Gold.Text = "$1,575"
    Gold.TextColor3 = Color3.fromRGB(255, 229, 164)
    Gold.TextScaled = true
    Gold.TextSize = 14.000
    Gold.TextWrapped = true

    XPbar.Name = "XPbar"
    XPbar.Parent = Hud
    XPbar.AnchorPoint = Vector2.new(0, 1)
    XPbar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    XPbar.BackgroundTransparency = 0.300
    XPbar.BorderColor3 = Color3.fromRGB(0, 0, 0)
    XPbar.BorderSizePixel = 0
    XPbar.Position = UDim2.new(0, 0, 1.00000131, 0)
    XPbar.Size = UDim2.new(1, 0, 0.0500000007, 0)

    Bar.Name = "Bar"
    Bar.Parent = XPbar
    Bar.AnchorPoint = Vector2.new(0, 0.5)
    Bar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Bar.BackgroundTransparency = 0.300
    Bar.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Bar.BorderSizePixel = 0
    Bar.Position = UDim2.new(0, 0, 0.50000006, 0)
    Bar.Size = UDim2.new(0.465125561, 0, 1.00000012, 0)

    Shadow.Name = "Shadow"
    Shadow.Parent = Hud
    Shadow.AnchorPoint = Vector2.new(0.5, 0.5)
    Shadow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Shadow.BackgroundTransparency = 1.000
    Shadow.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Shadow.BorderSizePixel = 0
    Shadow.Position = UDim2.new(-0.000105977058, 0, 1, 0)
    Shadow.Size = UDim2.new(0.550000012, 0, 4, 0)
    Shadow.ZIndex = -10
    Shadow.Image = "rbxassetid://132267209974506"
    Shadow.ImageColor3 = Color3.fromRGB(20, 20, 20)
    Shadow.ImageTransparency = 0.200

    Exps.Name = "Exps"
    Exps.Parent = Hud
    Exps.AnchorPoint = Vector2.new(0, 0.5)
    Exps.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Exps.BackgroundTransparency = 1.000
    Exps.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Exps.BorderSizePixel = 0
    Exps.ClipsDescendants = true
    Exps.Position = UDim2.new(0.0110000009, 0, -0.536621869, 0)
    Exps.Size = UDim2.new(0.0960000008, 0, 1.39314592, 0)

    ExpTemplate.Name = "ExpTemplate"
    ExpTemplate.Parent = Exps
    ExpTemplate.AnchorPoint = Vector2.new(0, 0.5)
    ExpTemplate.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ExpTemplate.BackgroundTransparency = 1.000
    ExpTemplate.BorderColor3 = Color3.fromRGB(0, 0, 0)
    ExpTemplate.BorderSizePixel = 0
    ExpTemplate.ClipsDescendants = true
    ExpTemplate.Size = UDim2.new(1, 0, 0.200000003, 0)
    ExpTemplate.Visible = false

    TextLabel_7.Parent = ExpTemplate
    TextLabel_7.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_7.BackgroundTransparency = 1.000
    TextLabel_7.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_7.BorderSizePixel = 0
    TextLabel_7.Size = UDim2.new(1, 0, 1, 0)
    TextLabel_7.Font = Enum.Font.Unknown
    TextLabel_7.Text = "+10 Exp"
    TextLabel_7.TextColor3 = Color3.fromRGB(243, 238, 185)
    TextLabel_7.TextScaled = true
    TextLabel_7.TextSize = 14.000
    TextLabel_7.TextWrapped = true
    TextLabel_7.TextXAlignment = Enum.TextXAlignment.Left

    UIListLayout_3.Parent = Exps
    UIListLayout_3.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout_3.VerticalAlignment = Enum.VerticalAlignment.Bottom

    XPbarHover.Name = "XPbarHover"
    XPbarHover.Parent = Hud
    XPbarHover.AnchorPoint = Vector2.new(0, 1)
    XPbarHover.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    XPbarHover.BackgroundTransparency = 1.000
    XPbarHover.BorderColor3 = Color3.fromRGB(0, 0, 0)
    XPbarHover.BorderSizePixel = 0
    XPbarHover.Position = UDim2.new(0, 0, 1.00000131, 0)
    XPbarHover.Size = UDim2.new(1, 0, 0.300000012, 0)

    Frame_3.Parent = XPbarHover
    Frame_3.AnchorPoint = Vector2.new(0.5, 0)
    Frame_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Frame_3.BackgroundTransparency = 1.000
    Frame_3.BorderColor3 = Color3.fromRGB(0, 0, 0)
    Frame_3.BorderSizePixel = 0
    Frame_3.ClipsDescendants = true
    Frame_3.Position = UDim2.new(0.5, 0, -0, 0)
    Frame_3.Size = UDim2.new(0.100000001, 0, 0.833000004, 0)

    TextLabel_8.Parent = Frame_3
    TextLabel_8.AnchorPoint = Vector2.new(0.5, 0)
    TextLabel_8.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_8.BackgroundTransparency = 1.000
    TextLabel_8.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_8.BorderSizePixel = 0
    TextLabel_8.Position = UDim2.new(0.5, 0, 1, 0)
    TextLabel_8.Size = UDim2.new(1, 0, 1, 0)
    TextLabel_8.Font = Enum.Font.Unknown
    TextLabel_8.Text = "XP: 15/30"
    TextLabel_8.TextColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_8.TextScaled = true
    TextLabel_8.TextSize = 14.000
    TextLabel_8.TextWrapped = true

    TextLabel_9.Parent = Main
    TextLabel_9.AnchorPoint = Vector2.new(0.5, 0.5)
    TextLabel_9.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel_9.BackgroundTransparency = 1.000
    TextLabel_9.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel_9.BorderSizePixel = 0
    TextLabel_9.Position = UDim2.new(0.497741908, 0, 0.0809555948, 0)
    TextLabel_9.Size = UDim2.new(0.241109774, 0, 0.0959036723, 0)
    TextLabel_9.Font = Enum.Font.Unknown
    TextLabel_9.Text = "THUNDER HUB"
    TextLabel_9.TextColor3 = Color3.fromRGB(245, 245, 245)
    TextLabel_9.TextScaled = true
    TextLabel_9.TextSize = 14.000
    TextLabel_9.TextWrapped = true
    TextLabel_9.TextXAlignment = Enum.TextXAlignment.Left

    OpenClose.Name = "OpenClose"
    OpenClose.Parent = ThunderHub
    OpenClose.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    OpenClose.BorderColor3 = Color3.fromRGB(0, 0, 0)
    OpenClose.BorderSizePixel = 0
    OpenClose.Position = UDim2.new(0.0332502089, 0, 0.0327553004, 0)
    OpenClose.Size = UDim2.new(0, 50, 0, 49)
    OpenClose.Font = Enum.Font.SourceSans
    OpenClose.Text = ""
    OpenClose.TextColor3 = Color3.fromRGB(0, 0, 0)
    OpenClose.TextSize = 14.000
    OpenClose.MouseButton1Click:Connect(function()
        ThunderHub.Main.Visible = not ThunderHub.Main.Visible
        if OpenClose.BackgroundColor3 == Color3.fromRGB(255, 0, 0) then
            OpenClose.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        else
            OpenClose.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        end
    end)


    spawn(function()
        pcall(function()
            while task.wait(4) do
                for i,v in pairs(Frame:GetChildren()) do
                    if v:IsA("Frame") then
                        v:Destroy()
                    end
                end

                for i,v in pairs(game:GetService("Players").LocalPlayer.PlayerGui.Menu.Frame.Frame.Menus.Tools.Frame:GetChildren()) do
                    if v:IsA("Frame") then
                        local c = v:Clone()
                        c.Parent = Frame
                    end
                end
            end
        end)
    end)
    function formatNumber(amount)
        local formatted = tostring(math.ceil(amount))

        while true do
            formatted, k = string.gsub(formatted, "^(-?%d+)(%d%d%d)", '%1,%2')

            if (k == 0) then
                break
            end
        end

        return formatted
    end

    spawn(function()
        while task.wait(.1) do
            pcall(function()
                Gold.Text = "$" .. formatNumber(require(game:GetService("ReplicatedStorage").Controllers.PlayerController).Replica.Data.Gold)
                Level.Text = "Level " .. require(game:GetService("ReplicatedStorage").Controllers.PlayerController).Replica.Data.Level
            end)
        end
    end)
end

if _G.GUI then
    GUI()
end
